{"version":3,"sources":["webpack:///./resources/assets/js/components/Login.vue","webpack:///./resources/assets/js/components/Login.vue?1209","webpack:///./resources/assets/js/components/Login.vue?75d8","webpack:///./resources/assets/js/components/Login.vue?ac85","webpack:///resources/assets/js/components/Login.vue"],"names":["Component","__webpack_require__","normalizeComponent","ssrContext","module","exports","push","i","render","_vm","this","_h","$createElement","_c","_self","attrs","id","on","submit","onSubmit","reset","onReset","src","height","width","alt","_v","staticClass","label","label-for","required","placeholder","model","value","loginForm","callback","$$v","$set","trim","expression","type","plain","unchecked-value","href","directives","name","rawName","modifiers","focus","title","variant","disabled","submitDisabled","_m","staticRenderFns","content","locals","__webpack_exports__","mounted","$","get","style","minHeight","window","innerHeight","$cookies","email","password","Base64","decode","remove","data","status","methods","evt","_this","preventDefault","$Loading","start","$http","post","qs","stringify","then","response","success","set","token","encode","role","$nextTick","defaults","headers","common","$router","done","catch","error"],"mappings":"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","file":"js/lazy/24.js","sourcesContent":["function injectStyle (ssrContext) {\n  require(\"!!vue-style-loader!css-loader?minimize!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-79cb3f78\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!less-loader!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Login.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nvar __vue_script__ = require(\"!!babel-loader?{\\\"cacheDirectory\\\":true,\\\"presets\\\":[[\\\"env\\\",{\\\"modules\\\":false,\\\"targets\\\":{\\\"browsers\\\":[\\\"> 2%\\\"],\\\"uglify\\\":true}}]],\\\"plugins\\\":[\\\"transform-object-rest-spread\\\",[\\\"transform-runtime\\\",{\\\"polyfill\\\":false,\\\"helpers\\\":false}],\\\"syntax-dynamic-import\\\",[\\\"import\\\",{\\\"libraryName\\\":\\\"iview\\\",\\\"libraryDirectory\\\":\\\"src/components\\\"}]]}!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\")\n/* template */\nvar __vue_template__ = require(\"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-79cb3f78\\\",\\\"hasScoped\\\":true,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Login.vue\")\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-79cb3f78\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./resources/assets/js/components/Login.vue\n// module id = 24xu\n// module chunks = 24","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-79cb3f78\",\"scoped\":true,\"hasInlineConfig\":true}!./node_modules/less-loader/dist/cjs.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./resources/assets/js/components/Login.vue\n// module id = 3eK+\n// module chunks = 24","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"login\"}},[_c('div',{attrs:{\"id\":\"formCon\"}},[_c('b-form',{attrs:{\"id\":\"loginForm\"},on:{\"submit\":_vm.onSubmit,\"reset\":_vm.onReset}},[_c('b-form-group',[_c('b-link',[_c('img',{attrs:{\"src\":\"/images/logo.png\",\"height\":\"50\",\"width\":\"180\",\"alt\":\"Singlera Genomics Logo\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"modeTitle\"},[_vm._v(\"Sign In\")])],1),_vm._v(\" \"),_c('b-form-group',{attrs:{\"label\":\"Email:\",\"label-for\":\"emailLogin\"}},[_c('b-form-input',{attrs:{\"id\":\"emailLogin\",\"required\":\"\",\"placeholder\":\"please enter email\"},model:{value:(_vm.loginForm.email),callback:function ($$v) {_vm.$set(_vm.loginForm, \"email\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"loginForm.email\"}})],1),_vm._v(\" \"),_c('b-form-group',{attrs:{\"label\":\"Password:\",\"label-for\":\"pwdLogin\"}},[_c('b-form-input',{attrs:{\"id\":\"pwdLogin\",\"type\":\"password\",\"required\":\"\",\"placeholder\":\"please enter password\"},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"loginForm.password\"}})],1),_vm._v(\" \"),_c('b-form-group',[_c('b-form-checkbox',{staticClass:\"rememberStatus\",attrs:{\"plain\":\"\",\"id\":\"remembercheckbox\",\"value\":\"remember\",\"unchecked-value\":\"forget\"},model:{value:(_vm.loginForm.status),callback:function ($$v) {_vm.$set(_vm.loginForm, \"status\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"loginForm.status\"}},[_vm._v(\"\\n          remember\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"formLink\"},[_c('b-link',{attrs:{\"href\":\"#/register\"}},[_vm._v(\"Sign Up\")]),_c('b-link',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.focus\",modifiers:{\"focus\":true}}],attrs:{\"title\":\"Please contact administrator\"}},[_vm._v(\"Forgot password?\")])],1)],1),_vm._v(\" \"),_c('b-form-group',[_c('b-button',{staticClass:\"submitBtn\",attrs:{\"type\":\"submit\",\"variant\":\"info\",\"disabled\":_vm.submitDisabled}},[_vm._v(\"Sign In\")]),_vm._v(\" \"),_c('b-button',{staticClass:\"resetBtn\",attrs:{\"type\":\"reset\"}},[_vm._v(\"Reset\")])],1)],1)],1),_vm._v(\" \"),_vm._m(0)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('footer',[_c('div',{staticClass:\"sectionCenter\"},[_vm._v(\"Copyright 2019\")])])}]\nmodule.exports = { render: render, staticRenderFns: staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-79cb3f78\",\"hasScoped\":true,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./resources/assets/js/components/Login.vue\n// module id = ByBY\n// module chunks = 24","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?minimize!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-79cb3f78\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../../../node_modules/less-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Login.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"597d9d20\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader!./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-79cb3f78\",\"scoped\":true,\"hasInlineConfig\":true}!./node_modules/less-loader/dist/cjs.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./resources/assets/js/components/Login.vue\n// module id = EXso\n// module chunks = 24","<template>\r\n  <div id=\"login\">\r\n    <div id=\"formCon\">\r\n      <b-form id=\"loginForm\" @submit=\"onSubmit\" @reset=\"onReset\">\r\n        <b-form-group>\r\n          <b-link>\r\n            <img src=\"/images/logo.png\" height=\"50\" width=\"180\" alt=\"Singlera Genomics Logo\">\r\n          </b-link>\r\n          <div class=\"modeTitle\">Sign In</div>\r\n        </b-form-group>\r\n        <b-form-group label=\"Email:\" label-for=\"emailLogin\">\r\n          <b-form-input id=\"emailLogin\" v-model.trim=\"loginForm.email\" required placeholder=\"please enter email\">\r\n          </b-form-input>\r\n        </b-form-group>\r\n        <b-form-group label=\"Password:\" label-for=\"pwdLogin\">\r\n          <b-form-input id=\"pwdLogin\" type=\"password\" v-model.trim=\"loginForm.password\" required placeholder=\"please enter password\">\r\n          </b-form-input>\r\n        </b-form-group>\r\n        <b-form-group>\r\n          <b-form-checkbox class=\"rememberStatus\" plain id=\"remembercheckbox\" v-model.trim=\"loginForm.status\" value=\"remember\" unchecked-value=\"forget\">\r\n            remember\r\n          </b-form-checkbox>\r\n          <div class=\"formLink\">\r\n            <b-link href=\"#/register\">Sign Up</b-link><b-link v-b-tooltip.focus title=\"Please contact administrator\">Forgot password?</b-link>\r\n          </div>\r\n        </b-form-group>\r\n        <b-form-group>\r\n          <b-button class=\"submitBtn\" type=\"submit\" variant=\"info\" :disabled=\"submitDisabled\">Sign In</b-button>\r\n          <b-button class=\"resetBtn\" type=\"reset\">Reset</b-button>\r\n        </b-form-group>\r\n      </b-form>\r\n    </div>\r\n    <footer>\r\n      <div class=\"sectionCenter\">Copyright 2019</div>\r\n    </footer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  mounted(){\r\n    $(\"#formCon\").get(0).style.minHeight=window.innerHeight-40+\"px\"\r\n    if(this.$cookies.get('loginStatus')==='remember'){\r\n      this.$cookies.get('email')?this.loginForm.email = this.$cookies.get('email'):this.loginForm.email = ''\r\n      this.$cookies.get('tp')?this.loginForm.password = Base64.decode(this.$cookies.get('tp')):this.loginForm.password = ''\r\n    }else{\r\n      this.$cookies.remove('Authorization')\r\n      this.$cookies.remove('permissionvue')\r\n      this.$cookies.get('email')?this.loginForm.email = this.$cookies.get('email'):this.loginForm.email = ''\r\n\r\n    }\r\n  },\r\n  data(){\r\n    return{\r\n      submitDisabled:false,\r\n      loginForm: {\r\n        email:'',\r\n        password:'',\r\n        status:'remember'\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    onSubmit (evt) {\r\n      evt.preventDefault();\r\n      this.$Loading.start()\r\n      this.submitDisabled = true;\r\n      this.$http.post(\"/api/login\",qs.stringify(this.loginForm)).then(response=>{\r\n        // console.log(response.data)\r\n        if(response.data.success){\r\n          if(this.loginForm.status === 'remember'){\r\n            this.$cookies.set('Authorization', 'Bearer ' + response.data.success.token, 60 * 60 * 12)\r\n            this.$cookies.set('email',this.loginForm.email,60*60*12)\r\n            this.$cookies.set('tp',Base64.encode(this.loginForm.password),60*60*12)\r\n            this.$cookies.set('loginStatus',this.loginForm.status,60*60*12)\r\n            this.$cookies.set('id',response.data.success.id,60*60*12)\r\n            this.$cookies.set('role',response.data.success.role,60*60*12)\r\n          }else{\r\n            this.$cookies.set('email',this.loginForm.email,60*60*12)\r\n            this.$cookies.set('Authorization', 'Bearer ' + response.data.success.token, 60 * 60 * 12)\r\n            this.$cookies.set('id',response.data.success.id,60*60*12)\r\n            this.$cookies.set('role',response.data.success.role,60*60*12)\r\n            this.$cookies.remove('tp')\r\n          }\r\n          this.$nextTick(()=>{\r\n            //设置请求头\r\n            this.$http.defaults.headers.common['Authorization'] = this.$cookies.get('Authorization')||'';\r\n          })\r\n          // 1外部用户  23内部用户 4管理员\r\n          if(response.data.success.role==2){\r\n            this.$router.push(\"/userinfo\")\r\n          }else{\r\n            this.$router.push(\"/dashboard\")\r\n          }\r\n        }\r\n        this.submitDisabled = false;\r\n        this.$Loading.done()\r\n      }).catch(error=>{\r\n        // console.log(error)\r\n        this.submitDisabled = false;\r\n        this.$Loading.done()\r\n      })\r\n    },\r\n    onReset (evt) {\r\n      evt.preventDefault();\r\n      this.loginForm.email = '';\r\n      this.loginForm.password = '';\r\n    },\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n  \r\n  \r\n</style>\n\n\n// WEBPACK FOOTER //\n// resources/assets/js/components/Login.vue"],"sourceRoot":""}
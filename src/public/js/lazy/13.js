webpackJsonp([13],{"1P/U":function(t,e,a){var r=a("VU/8")(a("POl/"),a("Z6dN"),!1,function(t){a("zGTy")},"data-v-4505bbbe",null);t.exports=r.exports},"51uZ":function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"",""])},"POl/":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={mounted:function(){"/t_history"===this.$route.path&&(this.url="/api/translate/history"),"/a_history"===this.$route.path&&(this.url="/api/approve/list"),"/v_history"===this.$route.path&&(this.url="/api/view/list_conflict_mine"),this.loading=!0,this.onSearch()},data:function(){return{searchForm:{product_name:"",key:"",status:""},listUrl:"",loading:!1,searchFlag:!1,rules:{},historyListTable:[],total:0,currentPage:1,pageSize:10}},watch:{"$route.path":{handler:function(t,e){this.searchForm.product_name="",this.searchForm.key="",this.searchForm.status="",this.currentPage=1,this.pageSize=10,"/t_history"===t&&(this.url="/api/translate/history"),"/a_history"===t&&(this.url="/api/approve/list"),"/v_history"===t&&(this.url="/api/view/list_conflict_mine"),this.onSearch()},deep:!0}},methods:{onSearch:function(){var t=this;this.loading=!0,this.currentPage=1,""===this.searchForm.product_name&&""===this.searchForm.key&&""===this.searchForm.status?this.searchFlag=!1:this.searchFlag=!0,this.$http.post(this.url,qs.stringify({product_name:this.searchForm.product_name,key:this.searchForm.key,status:this.searchForm.status,page:this.currentPage,count:this.pageSize})).then(function(e){t.historyListTable=e.data.data,t.total=e.data.total,t.loading=!1})},rowDblClick:function(t,e,a){this.transItem(t)},transItem:function(t){var e="";"/t_history"===this.$route.path&&(e="/t_browhistoryitem"),"/a_history"===this.$route.path&&(e="/a_browhistoryitem"),"/v_history"===this.$route.path&&(e="/v_browhistoryitem"),this.$router.push({path:e,query:{id:t.id}})},handleSizeChange:function(t){this.pageSize=t,this.currentPage=1,this.handleCurrentChange(this.currentPage)},handleCurrentChange:function(t){var e=this;this.loading=!0,this.currentPage=t,this.searchFlag?this.$http.post(this.url,qs.stringify({product_name:this.searchForm.product_name,key:this.searchForm.key,status:this.searchForm.status,page:t,count:this.pageSize})).then(function(t){e.historyListTable=t.data.data,e.total=t.data.total,e.loading=!1}):this.$http.post(this.url,qs.stringify({page:t,count:this.pageSize})).then(function(t){e.historyListTable=t.data.data,e.total=t.data.total,e.loading=!1})}}}},Z6dN:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"historyListMain"}},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[t._v("History")])],1),t._v(" "),a("div",{staticClass:"addSearch clearfix"},[a("div",{attrs:{id:"searchCon"}},[a("el-form",{ref:"searchForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:t.searchForm,rules:t.rules,"label-position":"left",size:"small"}},[a("el-form-item",{attrs:{label:"Project:"}},[a("el-input",{attrs:{placeholder:"please enter project name"},model:{value:t.searchForm.product_name,callback:function(e){t.$set(t.searchForm,"product_name","string"==typeof e?e.trim():e)},expression:"searchForm.product_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Keywords:"}},[a("el-input",{attrs:{placeholder:"please enter keywords"},model:{value:t.searchForm.key,callback:function(e){t.$set(t.searchForm,"key","string"==typeof e?e.trim():e)},expression:"searchForm.key"}})],1),t._v(" "),"/v_history"!==t.$route.path?a("el-form-item",{key:"ta_statusSearch",attrs:{label:"Status:"}},[a("el-select",{attrs:{clearable:"",placeholder:"please select status"},model:{value:t.searchForm.status,callback:function(e){t.$set(t.searchForm,"status","string"==typeof e?e.trim():e)},expression:"searchForm.status"}},["/t_history"===t.$route.path?a("el-option",{attrs:{label:"Unreviewed",value:"Unreviewed"}}):t._e(),t._v(" "),"/t_history"===t.$route.path?a("el-option",{attrs:{label:"Re-translated",value:"Re-translated"}}):t._e(),t._v(" "),"/t_history"===t.$route.path?a("el-option",{attrs:{label:"Qualified",value:"Qualified"}}):t._e(),t._v(" "),"/t_history"===t.$route.path?a("el-option",{attrs:{label:"Error",value:"Error"}}):t._e(),t._v(" "),"/a_history"===t.$route.path?a("el-option",{attrs:{label:"Qualified",value:"Qualified"}}):t._e(),t._v(" "),"/a_history"===t.$route.path?a("el-option",{attrs:{label:"Unqualified",value:"Unqualified"}}):t._e()],1)],1):t._e(),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"searchBtn",attrs:{type:"primary"},on:{click:t.onSearch}},[a("i",{staticClass:"el-icon-search"},[t._v("Search")])])],1)],1)],1)]),t._v(" "),a("div",{staticClass:"showHistoryList"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"historyListTable",staticStyle:{width:"100%"},attrs:{data:t.historyListTable,stripe:"",border:""},on:{"row-dblclick":t.rowDblClick}},["/v_history"===t.$route.path?a("el-table-column",{key:"o_historySource",attrs:{label:"Suggestion",align:"center",type:"expand",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.objection))])]}}])}):t._e(),t._v(" "),"/t_history"===t.$route.path||"/a_history"===t.$route.path?a("el-table-column",{key:"ta_histiorySource",attrs:{label:"Source",align:"center",type:"expand",width:"75"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("ol",{staticStyle:{"padding-left":"20px"}},t._l(JSON.parse(e.row.translate),function(e,r){return a("li",{key:r,staticStyle:{margin:"10px 0",padding:"5px 0","border-bottom":"1px dashed #ccc"}},[t._v(t._s(Object.keys(e)[0]))])}))]}}])}):t._e(),t._v(" "),a("el-table-column",{attrs:{prop:"product",label:"Project Name",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"key",label:"Keywords",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(Object.keys(JSON.parse(e.row.key)[0])[0]))])]}}])}),t._v(" "),"/t_history"===t.$route.path||"/a_history"===t.$route.path?a("el-table-column",{key:"ta_histioryStatus",attrs:{prop:"status",label:"Status",align:"center"}}):t._e(),t._v(" "),"/t_history"===t.$route.path?a("el-table-column",{key:"t_historyCreate_at",attrs:{prop:"created_at",label:"TranslationDate",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{attrs:{title:e.row.created_at}},[t._v(t._s(e.row.created_at&&e.row.created_at.split(" ")[1]?e.row.created_at.split(" ")[0]:e.row.created_at))])]}}])}):t._e(),t._v(" "),"/v_history"===t.$route.path?a("el-table-column",{key:"v_historyCreate_at",attrs:{prop:"created_at",label:"Date",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{attrs:{title:e.row.created_at}},[t._v(t._s(e.row.created_at&&e.row.created_at.split(" ")[1]?e.row.created_at.split(" ")[0]:e.row.created_at))])]}}])}):t._e(),t._v(" "),"/a_history"===t.$route.path?a("el-table-column",{key:"a_historyUpdated_at",attrs:{prop:"updated_at",label:"ApprovalDate",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{attrs:{title:e.row.updated_at}},[t._v(t._s(e.row.updated_at&&e.row.updated_at.split(" ")[1]?e.row.updated_at.split(" ")[0]:e.row.updated_at))])]}}])}):t._e(),t._v(" "),a("el-table-column",{attrs:{label:"Operation",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"medium",title:"view"},on:{click:function(a){t.transItem(e.row)}}},[t._v("View")])]}}])})],1),t._v(" "),a("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-sizes":[10,20,50],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],1)],1)},staticRenderFns:[]}},zGTy:function(t,e,a){var r=a("51uZ");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a("rjj0")("16d076d6",r,!0,{})}});
//# sourceMappingURL=13.js.map
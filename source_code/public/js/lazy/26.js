webpackJsonp([26],{"34cs":function(t,e,s){var o=s("v0OF");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);s("rjj0")("88b2a832",o,!0,{})},"8EjM":function(t,e,s){var o=s("VU/8")(s("I9tT"),s("xhAE"),!1,function(t){s("34cs")},"data-v-4b0343fb",null);t.exports=o.exports},I9tT:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={mounted:function(){var t=this,e=location.hash.split("/")[1];e.split("?")&&(e=e.split("?")[0]),this.selectMenu(e);var s=window.innerHeight,o=parseInt($("#header").outerHeight()),i=parseInt($("#footer").outerHeight());$("#asideUl").css("minHeight",s-o+"px"),$("#main").css("minHeight",s-o-i+"px"),this.myMessage(),this.$taskListTimer=setInterval(function(){t.myMessage()},6e4)},beforeDestroy:function(){clearInterval(this.$taskListTimer)},data:function(){var t=this;return{role:this.$cookies.get("role"),loginEmail:this.$cookies.get("email").split("@")[0],currentLoginID:this.$cookies.get("ID"),exitModal:!1,asidedefaultOpened:["projectManagement","translationManagement","approvalManagement"],taskVisibleFlag:!1,myProfileOuterVisible:!1,innerVisible:!1,personalInfo:{name:"",email:""},personalInfoRules:{email:[{required:!0,trigger:"blur"}],name:[{required:!0,trigger:"blur"}]},modifyPasswordForm:{oldPass:"",newPass:"",checkPass:""},passwordRules:{oldPass:[{required:!0,trigger:"blur"}],newPass:[{required:!0,trigger:"blur"},{validator:function(e,s,o){""!=s&&(""!==t.modifyPasswordForm.checkPass&&t.$refs.modifyPasswordForm.validateField("checkPass"),o())},trigger:"blur"}],checkPass:[{required:!0,trigger:"blur"},{validator:function(e,s,o){s!==t.modifyPasswordForm.newPass?o(new Error("Inconsistent input password twice!")):o()},trigger:"blur"}]}}},computed:{newTaskSum:function(){return this.$store.state.taskList.Unassigned_nums+this.$store.state.taskList.Conflict_nums+this.$store.state.taskList.Untranslated_nums+this.$store.state.taskList.Re_translated+this.$store.state.taskList.Approve_nums}},watch:{"$route.path":{handler:function(t,e){this.selectMenu(t.split("/")[1])},deep:!0}},methods:{myMessage:function(){var t=this;this.$http.post("/api/Statistic/Accout_task_nums").then(function(e){t.$store.state.taskList=e.data.result,t.$message.info({customClass:"intervalNotifyWidth",dangerouslyUseHTMLString:!0,message:"<div>\n              <span>Unallocated: <b>"+e.data.result.Unassigned_nums+"</b>;</span>\n              <span>Unallocated: <b>"+e.data.result.Conflict_nums+"</b>;</span>\n              <span>Untranslated: <b>"+e.data.result.Untranslated_nums+"</b>;</span>\n              <span>Retranslated: <b>"+e.data.result.Re_translated_nums+"</b>;</span>\n              <span>Unreviewed: <b>"+e.data.result.Approve_nums+"</b>;</span>\n          </div>"})})},myDetail:function(){var t=this;this.$http.post("/api/getDetails").then(function(e){e.data.result&&(t.personalInfo.name=e.data.result.name,t.personalInfo.email=e.data.result.email),t.myProfileOuterVisible=!0})},submitPassForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.$http.post("/api/changepwd",qs.stringify({oldpassword:e.modifyPasswordForm.oldPass,newpassword:e.modifyPasswordForm.newPass})).then(function(t){t.data.success&&(e.innerVisible=!1,e.modifyPasswordForm.oldPass="",e.modifyPasswordForm.newPass="",e.modifyPasswordForm.checkPass="",e.$router.push("/login"),e.$cookies.remove("pwd"))})})},resetPassForm:function(t){this.$refs[t].resetFields()},logOut:function(){var t=this;this.$confirm("Confirm to log out?","Confirm",{confirmButtonText:"Exit",cancelButtonText:"Cancel",type:"warning",center:!0}).then(function(){t.$http.post("/api/logout").then(function(e){e.data.success&&(t.$cookies.remove("Authorization"),t.$router.push("/login"))})})},selectMenu:function(t){switch(t){case"dashboard":this.$router.push("/dashboard"),$(".el-menu-vertical-demo .el-menu-item").each(function(t,e){0!=t?$(e).css({color:"#fff"}).children().css("color","#fff"):$(e).css({color:"#ffd04b"}).children().css("color","#ffd04b")});break;case"projectlist":this.$router.push("/projectlist"),$(".el-menu-vertical-demo .el-menu-item").each(function(t,e){1!=t?$(e).css({color:"#fff"}).children().css("color","#fff"):$(e).css({color:"#ffd04b"}).children().css("color","#ffd04b")});break;case"addproject":case"projectdetail":$(".el-menu-vertical-demo .el-menu-item").each(function(t,e){1!=t?$(e).css({color:"#fff"}).children().css("color","#fff"):$(e).css({color:"#ffd04b"}).children().css("color","#ffd04b")});break;case"allocationlist":this.$route.query.id?this.$router.push("/allocationlist?id="+this.$route.query.id):this.$router.push("/allocationlist"),$(".el-menu-vertical-demo .el-menu-item").each(function(t,e){2!=t?$(e).css({color:"#fff"}).children().css("color","#fff"):$(e).css({color:"#ffd04b"}).children().css("color","#ffd04b")});break;case"objectionlist":this.$route.query.id?this.$router.push("/objectionlist?id="+this.$route.query.id):this.$router.push("/objectionlist"),$(".el-menu-vertical-demo .el-menu-item").each(function(t,e){3!=t?$(e).css({color:"#fff"}).children().css("color","#fff"):$(e).css({color:"#ffd04b"}).children().css("color","#ffd04b")});break;case"viewobjection":$(".el-menu-vertical-demo .el-menu-item").each(function(t,e){3!=t?$(e).css({color:"#fff"}).children().css("color","#fff"):$(e).css({color:"#ffd04b"}).children().css("color","#ffd04b")});break;case"t_overviewlist":this.$router.push("/t_overviewlist"),$(".el-menu-vertical-demo .el-menu-item").each(function(t,e){4!=t?$(e).css({color:"#fff"}).children().css("color","#fff"):$(e).css({color:"#ffd04b"}).children().css("color","#ffd04b")});break;case"translationlist":this.$route.query.name?this.$router.push("/translationlist?name="+this.$route.query.name):this.$router.push("/translationlist"),$(".el-menu-vertical-demo .el-menu-item").each(function(t,e){5!=t?$(e).css({color:"#fff"}).children().css("color","#fff"):$(e).css({color:"#ffd04b"}).children().css("color","#ffd04b")});break;case"ontrans":$(".el-menu-vertical-demo .el-menu-item").each(function(t,e){5!=t?$(e).css({color:"#fff"}).children().css("color","#fff"):$(e).css({color:"#ffd04b"}).children().css("color","#ffd04b")});break;case"retranslationlist":this.$route.query.name?this.$router.push("/retranslationlist?name="+this.$route.query.name):this.$router.push("/retranslationlist"),$(".el-menu-vertical-demo .el-menu-item").each(function(t,e){6!=t?$(e).css({color:"#fff"}).children().css("color","#fff"):$(e).css({color:"#ffd04b"}).children().css("color","#ffd04b")});break;case"retrans":$(".el-menu-vertical-demo .el-menu-item").each(function(t,e){6!=t?$(e).css({color:"#fff"}).children().css("color","#fff"):$(e).css({color:"#ffd04b"}).children().css("color","#ffd04b")});break;case"t_historylist":this.$router.push("/t_historylist"),$(".el-menu-vertical-demo .el-menu-item").each(function(t,e){7!=t?$(e).css({color:"#fff"}).children().css("color","#fff"):$(e).css({color:"#ffd04b"}).children().css("color","#ffd04b")});break;case"t_browhistoryitem":this.$router.push("/t_browhistoryitem"),$(".el-menu-vertical-demo .el-menu-item").each(function(t,e){7!=t?$(e).css({color:"#fff"}).children().css("color","#fff"):$(e).css({color:"#ffd04b"}).children().css("color","#ffd04b")});break;case"a_overviewlist":this.$router.push("/a_overviewlist"),$(".el-menu-vertical-demo .el-menu-item").each(function(t,e){8!=t?$(e).css({color:"#fff"}).children().css("color","#fff"):$(e).css({color:"#ffd04b"}).children().css("color","#ffd04b")});break;case"approvallist":this.$route.query.name?this.$router.push("/approvallist?name="+this.$route.query.name):this.$router.push("/approvallist"),$(".el-menu-vertical-demo .el-menu-item").each(function(t,e){9!=t?$(e).css("color","#fff").children().css("color","#fff"):$(e).css("color","#ffd04b").children().css("color","#ffd04b")});break;case"browapprovalitem":$(".el-menu-vertical-demo .el-menu-item").each(function(t,e){9!=t?$(e).css("color","#fff").children().css("color","#fff"):$(e).css("color","#ffd04b").children().css("color","#ffd04b")});break;case"a_historylist":this.$router.push("/a_historylist"),$(".el-menu-vertical-demo .el-menu-item").each(function(t,e){10!=t?$(e).css("color","#fff").children().css("color","#fff"):$(e).css("color","#ffd04b").children().css("color","#ffd04b")});break;case"a_browhistoryitem":this.$router.push("/a_browhistoryitem"),$(".el-menu-vertical-demo .el-menu-item").each(function(t,e){10!=t?$(e).css("color","#fff").children().css("color","#fff"):$(e).css("color","#ffd04b").children().css("color","#ffd04b")});break;case"viewlist":this.$router.push("/viewlist"),$(".el-menu-vertical-demo .el-menu-item").each(function(t,e){11!=t?$(e).css("color","#fff").children().css("color","#fff"):$(e).css("color","#ffd04b").children().css("color","#ffd04b")});break;case"viewentry":case"viewdetail":$(".el-menu-vertical-demo .el-menu-item").each(function(t,e){11!=t?$(e).css("color","#fff").children().css("color","#fff"):$(e).css("color","#ffd04b").children().css("color","#ffd04b")});break;case"personalstatistics":this.$router.push("/personalstatistics?sta_pane="+(this.$route.query.sta_pane||"translator")),$(".el-menu-vertical-demo .el-menu-item").each(function(t,e){12!=t?$(e).css("color","#fff").children().css("color","#fff"):$(e).css("color","#ffd04b").children().css("color","#ffd04b")});break;case"userinfo":this.$router.push("/userinfo"),$(".el-menu-vertical-demo .el-menu-item").each(function(t,e){0!=t?$(e).css("color","#fff").children().css("color","#fff"):$(e).css("color","#ffd04b").children().css("color","#ffd04b")});break;case"adduser":case"edituser":$(".el-menu-vertical-demo .el-menu-item").each(function(t,e){0!=t?$(e).css("color","#fff").children().css("color","#fff"):$(e).css("color","#ffd04b").children().css("color","#ffd04b")})}}}}},v0OF:function(t,e,s){(t.exports=s("FZ+f")(!1)).push([t.i,"\n.sortMenu[data-v-4b0343fb]{padding-left:20px;color:#fff;font-weight:bold;font-size:12px\n}",""])},xhAE:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-container",[s("el-header",{attrs:{height:"80px",id:"header"}},[s("div",{staticClass:"homeLogo"},[s("img",{attrs:{src:"/images/logo.png",alt:"Logo",title:"Translation System"}}),t._v(" "),s("p",[t._v("Online Human Translation System")])]),t._v(" "),s("div",{staticClass:"homeLogin"},[s("el-dropdown",{attrs:{trigger:"click"}},[s("span",{staticClass:"el-dropdown-link"},[t._v("\n          "+t._s(t.loginEmail)),s("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",[s("div",{attrs:{size:"small"},on:{click:t.myDetail}},[t._v("My Profile")])]),t._v(" "),s("el-dropdown-item",{nativeOn:{click:function(e){return t.logOut(e)}}},[t._v("Exit")])],1)],1)],1)]),t._v(" "),s("el-container",[s("el-aside",{attrs:{width:"220px"}},[s("el-row",{staticClass:"tac"},[s("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{id:"asideUl",height:"700px","background-color":"#41babc","text-color":"#fff","active-text-color":"#ffd04b","default-openeds":t.asidedefaultOpened}},["1"==t.role?s("el-menu-item",{attrs:{index:"dashboard"},on:{click:function(e){t.selectMenu("dashboard")}}},[s("span",{attrs:{slot:"title"},slot:"title"},[t._v("Dashboard")])]):t._e(),t._v(" "),"1"==t.role?s("el-submenu",{attrs:{index:"projectManagement"}},[s("template",{slot:"title"},[s("span",[t._v("Project Management")])]),t._v(" "),s("el-menu-item",{attrs:{index:"projectlist"},on:{click:function(e){t.selectMenu("projectlist")}}},[s("span",{attrs:{slot:"title",id:"projectlist"},slot:"title"},[t._v("Project List")])]),t._v(" "),s("el-menu-item",{attrs:{index:"allocationlist"},on:{click:function(e){t.selectMenu("allocationlist")}}},[s("span",{attrs:{slot:"title",id:"allocationlist"},slot:"title"},[t._v("Allocation List")])]),t._v(" "),s("el-menu-item",{attrs:{index:"objectionlist"},on:{click:function(e){t.selectMenu("objectionlist")}}},[s("span",{attrs:{slot:"title",id:"objectionlist"},slot:"title"},[t._v("Objection List")])])],2):t._e(),t._v(" "),"1"==t.role?s("el-submenu",{attrs:{index:"translationManagement"}},[s("template",{slot:"title"},[s("span",[t._v("Translation Management")])]),t._v(" "),s("el-menu-item",{attrs:{index:"t_overviewlist"},on:{click:function(e){t.selectMenu("t_overviewlist")}}},[s("span",{attrs:{slot:"title",id:"t_overviewlist"},slot:"title"},[t._v("Overview")])]),t._v(" "),s("el-menu-item",{attrs:{index:"translationlist"},on:{click:function(e){t.selectMenu("translationlist")}}},[s("span",{attrs:{slot:"title",id:"translationlist"},slot:"title"},[t._v("Translation List")])]),t._v(" "),s("el-menu-item",{attrs:{index:"retranslationlist"},on:{click:function(e){t.selectMenu("retranslationlist")}}},[s("span",{attrs:{slot:"title",id:"retranslationlist"},slot:"title"},[t._v("Re-translation List")])]),t._v(" "),s("el-menu-item",{attrs:{index:"t_historylist"},on:{click:function(e){t.selectMenu("t_historylist")}}},[s("span",{attrs:{slot:"title",id:"t_historylist"},slot:"title"},[t._v("History List")])])],2):t._e(),t._v(" "),"1"==t.role?s("el-submenu",{attrs:{index:"approvalManagement"}},[s("template",{slot:"title"},[s("span",[t._v("Approval management")])]),t._v(" "),s("el-menu-item",{attrs:{index:"a_overviewlist"},on:{click:function(e){t.selectMenu("a_overviewlist")}}},[s("span",{attrs:{slot:"title",id:"a_overviewlist"},slot:"title"},[t._v("Overview")])]),t._v(" "),s("el-menu-item",{attrs:{index:"approvallist"},on:{click:function(e){t.selectMenu("approvallist")}}},[s("span",{attrs:{slot:"title",id:"approvallist"},slot:"title"},[t._v("approval List")])]),t._v(" "),s("el-menu-item",{attrs:{index:"a_historylist"},on:{click:function(e){t.selectMenu("a_historylist")}}},[s("span",{attrs:{slot:"title",id:"a_historylist"},slot:"title"},[t._v("History List")])])],2):t._e(),t._v(" "),"1"==t.role?s("el-menu-item",{attrs:{index:"viewlist"},on:{click:function(e){t.selectMenu("viewlist")}}},[s("span",{attrs:{slot:"title",id:"viewlist"},slot:"title"},[t._v("View List")])]):t._e(),t._v(" "),"1"==t.role?s("el-menu-item",{attrs:{index:"personalstatistics"},on:{click:function(e){t.selectMenu("personalstatistics")}}},[s("span",{attrs:{slot:"title",id:"personalstatistics"},slot:"title"},[t._v("Personal Statistics")])]):t._e(),t._v(" "),"2"==t.role?s("el-menu-item",{attrs:{index:"userinfo"},on:{click:function(e){t.selectMenu("userinfo")}}},[s("span",{attrs:{slot:"title",id:"userinfo"},slot:"title"},[t._v("User Management")])]):t._e()],1)],1)],1),t._v(" "),s("el-container",[s("el-main",{attrs:{id:"main"}},[s("transition",{attrs:{name:"fade",mode:"out-in"}},[s("router-view")],1)],1),t._v(" "),s("el-footer",{attrs:{id:"footer"}},[t._v("Copyright 2019 ( Recommend Using "),s("img",{staticStyle:{display:"inline-block",width:"15px",height:"15px","vertical-align":"middle"},attrs:{src:"/images/chrome.jpg"}}),t._v(" Chrome Browser )")])],1)],1),t._v(" "),s("el-dialog",{attrs:{width:"40%",title:"My Profile",visible:t.myProfileOuterVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){t.myProfileOuterVisible=e}}},[s("p",[s("span",[t._v("Name: ")]),s("span",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.personalInfo.name))])]),t._v(" "),s("p",[s("span",[t._v("Email: ")]),s("span",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.personalInfo.email))])]),t._v(" "),"1"==t.role?s("p",[s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.innerVisible=!0}}},[t._v("Modify password")])],1):t._e(),t._v(" "),s("el-dialog",{attrs:{width:"40%",title:"Modify Password",visible:t.innerVisible,"close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(e){t.innerVisible=e}}},[s("el-form",{ref:"modifyPasswordForm",staticClass:"demo-ruleForm",attrs:{model:t.modifyPasswordForm,"status-icon":"",rules:t.passwordRules,"label-width":"180px"}},[s("el-form-item",{attrs:{label:"Old Password",prop:"oldPass"}},[s("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:t.modifyPasswordForm.oldPass,callback:function(e){t.$set(t.modifyPasswordForm,"oldPass","string"==typeof e?e.trim():e)},expression:"modifyPasswordForm.oldPass"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"New Password",prop:"newPass"}},[s("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:t.modifyPasswordForm.newPass,callback:function(e){t.$set(t.modifyPasswordForm,"newPass","string"==typeof e?e.trim():e)},expression:"modifyPasswordForm.newPass"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"Repeat New Password",prop:"checkPass"}},[s("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:t.modifyPasswordForm.checkPass,callback:function(e){t.$set(t.modifyPasswordForm,"checkPass","string"==typeof e?e.trim():e)},expression:"modifyPasswordForm.checkPass"}})],1),t._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitPassForm("modifyPasswordForm")}}},[t._v("Modify")]),t._v(" "),s("el-button",{on:{click:function(e){t.resetPassForm("modifyPasswordForm")}}},[t._v("Reset")])],1)],1)],1),t._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.myProfileOuterVisible=!1}}},[t._v("close")])],1)],1),t._v(" "),2!=t.role?s("div",{attrs:{id:"taskListCon"}},[s("el-card",{directives:[{name:"show",rawName:"v-show",value:t.taskVisibleFlag,expression:"taskVisibleFlag"}],staticClass:"box-card",staticStyle:{"text-align":"left"}},[s("div",{staticClass:"per_task",on:{click:function(e){t.$router.push("/allocationlist")}}},[t._v("Unallocated: "),s("b",[t._v(t._s(t.$store.state.taskList.Unassigned_nums))])]),t._v(" "),s("div",{staticClass:"per_task",on:{click:function(e){t.$router.push("/objectionlist")}}},[t._v("Conflict: "),s("b",[t._v(t._s(t.$store.state.taskList.Conflict_nums))])]),t._v(" "),s("div",{staticClass:"per_task",on:{click:function(e){t.$router.push("/translationlist")}}},[t._v("Untranslated: "),s("b",[t._v(t._s(t.$store.state.taskList.Untranslated_nums))])]),t._v(" "),s("div",{staticClass:"per_task",on:{click:function(e){t.$router.push("/retranslationlist")}}},[t._v("Retranslated: "),s("b",[t._v(t._s(t.$store.state.taskList.Re_translated_nums))])]),t._v(" "),s("div",{staticClass:"per_task",on:{click:function(e){t.$router.push("/approvallist")}}},[t._v("Unreviewed: "),s("b",[t._v(t._s(t.$store.state.taskList.Approve_nums))])])]),t._v(" "),s("el-button",{attrs:{round:"",size:"small",type:"warning"},on:{click:function(e){t.taskVisibleFlag=!t.taskVisibleFlag}}},[t._v("My Task"),s("el-badge",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.taskList.Unassigned_nums+t.$store.state.taskList.Conflict_nums+t.$store.state.taskList.Untranslated_nums+t.$store.state.taskList.Re_translated_nums+t.$store.state.taskList.Approve_nums>0,expression:"$store.state.taskList.Unassigned_nums+$store.state.taskList.Conflict_nums+$store.state.taskList.Untranslated_nums+$store.state.taskList['Re_translated_nums']+$store.state.taskList.Approve_nums>0"}],attrs:{value:t.$store.state.taskList.Unassigned_nums+t.$store.state.taskList.Conflict_nums+t.$store.state.taskList.Untranslated_nums+t.$store.state.taskList.Re_translated_nums+t.$store.state.taskList.Approve_nums,max:99}})],1)],1):t._e()],1)},staticRenderFns:[]}}});
//# sourceMappingURL=26.js.map
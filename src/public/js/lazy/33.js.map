{"version":3,"sources":["webpack:///./resources/assets/js/components/backStage/SendMail.vue","webpack:///./resources/assets/js/components/backStage/SendMail.vue?d1dd","webpack:///./resources/assets/js/components/backStage/SendMail.vue?a446","webpack:///./resources/assets/js/components/backStage/SendMail.vue?8b43","webpack:///resources/assets/js/components/backStage/SendMail.vue"],"names":["Component","__webpack_require__","normalizeComponent","ssrContext","module","exports","push","i","content","locals","render","_vm","this","_h","$createElement","_c","_self","attrs","items","menus","_v","fluid","bordered","responsive","hover","mailList","fields","head-variant","show-empty","empty-text","tableEmptyText","scopedSlots","_u","key","fn","row","id","index","button-variant","value","unchecked-value","model","item","callback","$$v","$set","expression","on","click","$event","_showDetails","_s","staticClass","sm","created_at","updated_at","directives","name","rawName","vip","staticStyle","color","size","variant","show","openModal","ref","no-close-on-backdrop","no-close-on-esc","hide-header-close","okLoading","title","ok-disabled","okLoadingFlag","ok-title","okTitle","cancel-disabled","cancel-title","ok-variant","cancel-variant","ok","handleOk","multiple","_l","domProps","sale_name","sale_email","text-align","over-flow","float","margin-left","split","font-size","padding-left","selectArr","length","disabled","openAllModal","nameEmails","number-of-pages","total-rows","total","per-page","input","changePage","currentPage","staticRenderFns","__webpack_exports__","components","mounted","_this","$cookies","get","second","timer","setInterval","set","remove","clearInterval","getTableData","$http","post","then","response","emailOptions","data","text","href","select","label","thStyle","width","show_details","order_id","product","submit_name","send_status","operate","watch","handler","val","old","filter","deep","methods","_this2","$Loading","start","qs","stringify","page","forEach","Number","finish","address","report_loc","slice","window","open","$refs","modalAll","evt","arg","_this3","preventDefault","ids","selectEmails","selectNames","Array","isArray","$Message","warning","error","maillist","mail_name_list","success","hide","_timer2","catch","err","alert","_timer"],"mappings":"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","file":"js/lazy/33.js","sourcesContent":["function injectStyle (ssrContext) {\n  require(\"!!vue-style-loader!css-loader?minimize!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-122c4954\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!less-loader!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SendMail.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nvar __vue_script__ = require(\"!!babel-loader?{\\\"cacheDirectory\\\":true,\\\"presets\\\":[[\\\"env\\\",{\\\"modules\\\":false,\\\"targets\\\":{\\\"browsers\\\":[\\\"> 2%\\\"],\\\"uglify\\\":true}}]],\\\"plugins\\\":[\\\"transform-object-rest-spread\\\",[\\\"transform-runtime\\\",{\\\"polyfill\\\":false,\\\"helpers\\\":false}],\\\"syntax-dynamic-import\\\",[\\\"import\\\",{\\\"libraryName\\\":\\\"iview\\\",\\\"libraryDirectory\\\":\\\"src/components\\\"}]]}!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SendMail.vue\")\n/* template */\nvar __vue_template__ = require(\"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-122c4954\\\",\\\"hasScoped\\\":true,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./SendMail.vue\")\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-122c4954\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./resources/assets/js/components/backStage/SendMail.vue\n// module id = 1KCt\n// module chunks = 33","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n@media (min-width:1000px){min-width:1150px\\n}\\n@media (min-width:650px) and (max-width:999px){min-width:750px\\n}\\n@media (min-width:650px){\\n.modal-dialog[data-v-122c4954]{max-width:600px\\n}\\n.modal-dialog .modal-md[data-v-122c4954]{max-width:600px\\n}\\n.reviewDescTd[data-v-122c4954]{max-width:160px\\n}\\n}\\n@keyframes ani-demo-spin-data-v-122c4954{\\nfrom{transform:rotate(0deg)\\n}\\n50%{transform:rotate(180deg)\\n}\\nto{transform:rotate(360deg)\\n}\\n}\\n.ivu-spin-fix[data-v-122c4954]{background-color:rgba(255,255,255,0.9)\\n}\\n.ivu-spin-fix .ivu-spin-text[data-v-122c4954]{display:flex;justify-content:center\\n}\\n.ivu-spin-fix .ivu-spin-text>div[data-v-122c4954]{display:inline-block;width:300px;background:#eee;padding:40px;border-radius:5px\\n}\\n.ivu-spin-fix .ivu-spin-text>div .spin-icon-load[data-v-122c4954]{animation:ani-demo-spin-data-v-122c4954 1s linear infinite !important\\n}\\n.ivu-message[data-v-122c4954]{z-index:1060\\n}\\ninput[required][data-v-122c4954]:invalid,input[data-v-122c4954]:focus:invalid,textarea[required][data-v-122c4954]:invalid,textarea[data-v-122c4954]:focus:invalid{box-shadow:none\\n}\\n.nowrap1[data-v-122c4954]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap\\n}\\n.maxw120[data-v-122c4954]{max-width:120px\\n}\\n.custom-control-input:checked~.custom-control-label[data-v-122c4954]:before{background-color:#41babc !important\\n}\\n.custom-control-inline[data-v-122c4954]{margin-right:0 !important\\n}\\n.form-control[data-v-122c4954]:focus{box-shadow:0 0 0 0 transparent\\n}\\n.authTd[data-v-122c4954]{text-align:left !important\\n}\\n.importResultStyle[data-v-122c4954]{height:600px;overflow:auto\\n}\\n#browSeqForm label[data-v-122c4954]{justify-content:flex-start !important\\n}\\n#browSeqForm #sampleid[data-v-122c4954]{width:100%\\n}\\n#browSeqForm select[data-v-122c4954]{width:100%\\n}\\n.wrapTd[data-v-122c4954]{max-width:150px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap\\n}\\n.imitate_ellipsis[data-v-122c4954]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical\\n}\\na[data-v-122c4954]{color:#41babc\\n}\\n.ivu-form .ivu-form-item[data-v-122c4954]{margin-bottom:16px\\n}\\n.ivu-form .ivu-form-item-label[data-v-122c4954]{font-size:14px;font-weight:bold\\n}\\n.ivu-input[data-v-122c4954]{font-size:14px\\n}\\n.ivu-switch-checked[data-v-122c4954]{border-color:#41babc;background-color:#41babc\\n}\\n.breadcrumb[data-v-122c4954]{height:40px\\n}\\n.table td[data-v-122c4954],.table th[data-v-122c4954]{padding:.65rem .5rem;text-align:center;font-size:14px;word-break:break-all\\n}\\n.table td .card[data-v-122c4954],.table th .card[data-v-122c4954]{text-align:left\\n}\\n.btn-sm[data-v-122c4954]{padding:.08rem .5rem !important\\n}\\n.paginationCon[data-v-122c4954]{overflow:hidden\\n}\\n.paginationCon .pagination[data-v-122c4954]{float:right\\n}\\n.btn-warning[data-v-122c4954]{color:#fff\\n}\\n.btn-outline-link[data-v-122c4954]{background-color:#ccc\\n}\\n.btn-outline-link[data-v-122c4954]:hover{color:#fff\\n}\\n.btn-outline-warning[data-v-122c4954]:hover{color:#fff\\n}\\n.btn-outline-warning:not(:disabled):not(.disabled).active[data-v-122c4954],.btn-outline-warning[data-v-122c4954]:not(:disabled):not(.disabled):active,.btn-warning:not(:disabled):not(.disabled).active[data-v-122c4954],.btn-warning[data-v-122c4954]:not(:disabled):not(.disabled):active{color:#fff\\n}\\n.btn-outline-theme[data-v-122c4954]{color:#41babc;border:1px solid #41babc;background-color:transparent\\n}\\n.btn-outline-theme[data-v-122c4954]:hover{color:#fff;background-color:#41babc\\n}\\n.btn-link[data-v-122c4954]{padding:0;color:#41babc\\n}\\n.btn-link[data-v-122c4954]:hover{color:#1da5a3\\n}\\n.page-link[data-v-122c4954]{color:#41babc\\n}\\n.page-item.active .page-link[data-v-122c4954]{background-color:#41babc;border-color:#41babc\\n}\\n.btn-info[data-v-122c4954]{background-color:#41babc;border-color:#41babc\\n}\\n.pf[data-v-122c4954]{position:fixed;top:0;left:0\\n}\\n.pr[data-v-122c4954]{position:relative\\n}\\n.pa[data-v-122c4954]{position:absolute;top:0;left:0\\n}\\n.ivu-menu[data-v-122c4954]{background-color:#41babc;color:#41babc\\n}\\n.ivu-menu li[data-v-122c4954]:hover{background-color:#1da5a3\\n}\\n#asideMenu .ivu-menu-vertical .ivu-menu-item[data-v-122c4954],#asideMenu .ivu-menu-vertical .ivu-menu-submenu-title[data-v-122c4954]{height:50px;line-height:50px;padding:0px 25px;color:#fff;font-size:16px\\n}\\n#asideMenu .ivu-menu-vertical .ivu-menu-item i[data-v-122c4954],#asideMenu .ivu-menu-vertical .ivu-menu-submenu-title i[data-v-122c4954]{float:right;margin-right:10px;margin-top:10px\\n}\\n#asideMenu .ivu-menu-submenu .ivu-menu-item[data-v-122c4954]{text-align:center;font-size:14px;padding-left:0\\n}\\n#asideMenu .ivu-menu-submenu .ivu-menu-item span[data-v-122c4954]{width:100%;display:inline-block;padding-left:20px;box-sizing:border-box\\n}\\n#asideMenu .ivu-menu-submenu-title[data-v-122c4954]:hover{background-color:#1da5a3\\n}\\n#asideMenu .ivu-menu-item-active[data-v-122c4954]{background-color:#1da5a3;border-right:0 solid #2d8cf0\\n}\\n#asideMenu .ivu-menu-vertical .ivu-menu-item[data-v-122c4954],#asideMenu .ivu-menu-vertical .ivu-menu-submenu-title[data-v-122c4954]{height:40px;line-height:40px\\n}\\n.smForm .form-group[data-v-122c4954]{margin-bottom:8px !important;text-align:left\\n}\\n.smForm .form-group .col-form-label[data-v-122c4954]{font-weight:bold\\n}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-122c4954\",\"scoped\":true,\"hasInlineConfig\":true}!./node_modules/less-loader/dist/cjs.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./resources/assets/js/components/backStage/SendMail.vue\n// module id = AUsP\n// module chunks = 33","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!../../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-122c4954\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../../../../node_modules/less-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./SendMail.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"64963688\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader!./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-122c4954\",\"scoped\":true,\"hasInlineConfig\":true}!./node_modules/less-loader/dist/cjs.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./resources/assets/js/components/backStage/SendMail.vue\n// module id = HBEQ\n// module chunks = 33","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-breadcrumb',{attrs:{\"items\":_vm.menus}}),_vm._v(\" \"),_c('b-container',{attrs:{\"fluid\":\"\"}},[_c('b-table',{attrs:{\"bordered\":\"\",\"responsive\":\"\",\"hover\":\"\",\"items\":_vm.mailList,\"fields\":_vm.fields,\"head-variant\":\"light\",\"show-empty\":\"\",\"empty-text\":_vm.tableEmptyText},scopedSlots:_vm._u([{key:\"select\",fn:function(row){return [_c('b-form-checkbox',{attrs:{\"id\":'checkbox'+row.index,\"button-variant\":\"parimary\",\"value\":\"y\",\"unchecked-value\":\"n\"},model:{value:(row.item.select),callback:function ($$v) {_vm.$set(row.item, \"select\", $$v)},expression:\"row.item.select\"}})]}},{key:\"show_details\",fn:function(row){return [_c('b-link',{on:{\"click\":function($event){row.item._showDetails=!row.item._showDetails}}},[_vm._v(_vm._s(row.item._showDetails?'收起':'展开'))])]}},{key:\"row-details\",fn:function(row){return [_c('b-card',[_c('b-row',{staticClass:\"mb-2\"},[_c('b-col',{attrs:{\"sm\":\"2\"}},[_vm._v(\"创建日期：\")]),_vm._v(\" \"),_c('b-col',{attrs:{\"sm\":\"4\"}},[_vm._v(_vm._s(row.item.created_at))]),_vm._v(\" \"),_c('b-col',{attrs:{\"sm\":\"2\"}},[_vm._v(\"最新更新日期：\")]),_vm._v(\" \"),_c('b-col',{attrs:{\"sm\":\"4\"}},[_vm._v(_vm._s(row.item.updated_at))])],1)],1)]}},{key:\"vip\",fn:function(row){return [_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(row.item.vip==='1'),expression:\"row.item.vip==='1'\"}],staticStyle:{\"color\":\"red\"}},[_vm._v(\"VIP\")])]}},{key:\"operate\",fn:function(row){return [_c('b-button',{staticClass:\"mr-2\",attrs:{\"size\":\"sm\",\"variant\":\"info\"},on:{\"click\":function($event){_vm.show(row)}}},[_vm._v(\"\\n         查看\\n        \")]),_vm._v(\" \"),_c('b-button',{staticClass:\"mr-2\",attrs:{\"size\":\"sm\",\"variant\":\"success\"},on:{\"click\":function($event){_vm.openModal(row)}}},[_vm._v(\"\\n         发送\\n        \")]),_vm._v(\" \"),_c('b-modal',{ref:'modal'+row.index,attrs:{\"no-close-on-backdrop\":\"\",\"no-close-on-esc\":\"\",\"hide-header-close\":row.item.okLoading,\"id\":'modalPrevent'+row.index,\"title\":\"选择邮箱地址\",\"ok-disabled\":_vm.okLoadingFlag,\"ok-title\":_vm.okTitle,\"cancel-disabled\":row.item.okLoading,\"cancel-title\":\"取消\",\"ok-variant\":\"info\",\"cancel-variant\":\"link\"},on:{\"ok\":function($event){_vm.handleOk($event,row)}}},[_c('b-form-select',{staticClass:\"mb-3\",attrs:{\"multiple\":\"\"},model:{value:(row.item.nameEmails),callback:function ($$v) {_vm.$set(row.item, \"nameEmails\", $$v)},expression:\"row.item.nameEmails\"}},_vm._l((_vm.emailOptions),function(item,index){return _c('option',{key:index,domProps:{\"value\":item.sale_name+' --- '+item.sale_email}},[_vm._v(_vm._s(item.sale_name+' --- '+item.sale_email))])})),_vm._v(\" \"),_c('div',{staticStyle:{\"text-align\":\"left\",\"over-flow\":\"hidden\"}},[_c('div',{staticStyle:{\"float\":\"left\"}},[_vm._v(\"已选择：\")]),_vm._v(\" \"),_vm._l((row.item.nameEmails),function(item,index){return _c('div',{key:index,staticStyle:{\"float\":\"left\",\"margin-left\":\"15px\",\"color\":\"#41babc\"}},[_vm._v(\" \"+_vm._s(item.split(' --- ')[0]))])})],2)],1)]}}])}),_vm._v(\" \"),_c('div',{staticStyle:{\"float\":\"left\",\"font-size\":\"14px\",\"padding-left\":\"10px\"}},[_vm._v(\"\\n      \"+_vm._s(_vm.selectArr.length)+\"条被选中，\"),_c('b-button',{attrs:{\"variant\":\"link\",\"size\":\"sm\",\"disabled\":_vm.selectArr.length===0},on:{\"click\":_vm.openAllModal}},[_vm._v(\"点击发送到邮箱\")])],1),_vm._v(\" \"),_c('b-modal',{ref:\"modalAll\",attrs:{\"no-close-on-backdrop\":\"\",\"no-close-on-esc\":\"\",\"hide-header-close\":_vm.okLoading,\"id\":\"modalPreventAll\",\"title\":\"选择邮箱地址\",\"ok-disabled\":_vm.okLoadingFlag,\"ok-title\":_vm.okTitle,\"cancel-disabled\":_vm.okLoading,\"cancel-title\":\"取消\",\"ok-variant\":\"info\",\"cancel-variant\":\"link\"},on:{\"ok\":function($event){_vm.handleOk($event,_vm.selectArr)}}},[_c('b-form-select',{staticClass:\"mb-3\",attrs:{\"multiple\":\"\"},model:{value:(_vm.nameEmails),callback:function ($$v) {_vm.nameEmails=$$v},expression:\"nameEmails\"}},_vm._l((_vm.emailOptions),function(item,index){return _c('option',{key:index,domProps:{\"value\":item.sale_name+' --- '+item.sale_email}},[_vm._v(_vm._s(item.sale_name+' --- '+item.sale_email))])})),_vm._v(\" \"),_c('div',{staticStyle:{\"text-align\":\"left\",\"over-flow\":\"hidden\"}},[_c('div',{staticStyle:{\"float\":\"left\"}},[_vm._v(\"已选择：\")]),_vm._v(\" \"),_vm._l((_vm.nameEmails),function(item,index){return _c('div',{key:index,staticStyle:{\"float\":\"left\",\"margin-left\":\"15px\",\"color\":\"#41babc\"}},[_vm._v(_vm._s(item.split(' --- ')[0]))])})],2)],1),_vm._v(\" \"),_c('div',{staticClass:\"paginationCon\"},[_c('b-pagination',{attrs:{\"size\":\"md\",\"number-of-pages\":10,\"total-rows\":_vm.total,\"per-page\":10},on:{\"input\":_vm.changePage},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1)],1)],1)}\nvar staticRenderFns = []\nmodule.exports = { render: render, staticRenderFns: staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-122c4954\",\"hasScoped\":true,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./resources/assets/js/components/backStage/SendMail.vue\n// module id = t8dX\n// module chunks = 33","<template>\r\n  <div>\r\n    <b-breadcrumb :items=\"menus\"/>\r\n    <b-container fluid>\r\n      <b-table bordered responsive hover :items=\"mailList\" :fields=\"fields\" head-variant='light' show-empty :empty-text=\"tableEmptyText\">        \r\n        <template slot=\"select\" slot-scope=\"row\">\r\n          <b-form-checkbox :id=\"'checkbox'+row.index\" button-variant=\"parimary\" v-model=\"row.item.select\" value='y' unchecked-value='n'></b-form-checkbox>\r\n        </template>\r\n        <template slot=\"show_details\" slot-scope=\"row\">\r\n          <b-link @click=\"row.item._showDetails=!row.item._showDetails\">{{row.item._showDetails?'收起':'展开'}}</b-link>\r\n        </template>\r\n        <!-- 详情模板 -->\r\n        <template slot=\"row-details\" slot-scope=\"row\">\r\n          <b-card>\r\n            <b-row class=\"mb-2\">\r\n              <!-- <b-col sm=\"3\">异常类型：</b-col>\r\n              <b-col sm=\"3\">{{ row.item.abnormal }}</b-col> -->\r\n              <b-col sm=\"2\">创建日期：</b-col>\r\n              <b-col sm=\"4\">{{ row.item.created_at }}</b-col>\r\n              <b-col sm=\"2\">最新更新日期：</b-col>\r\n              <b-col sm=\"4\">{{ row.item.updated_at }}</b-col>\r\n            </b-row>\r\n          </b-card>\r\n        </template>\r\n        <template slot=\"vip\" slot-scope=\"row\">\r\n          <span v-show=\"row.item.vip==='1'\" style=\"color:red\">VIP</span>\r\n        </template>\r\n        <template slot=\"operate\" slot-scope=\"row\">\r\n          <b-button size=\"sm\" class=\"mr-2\" variant=\"info\" @click=\"show(row)\">\r\n           查看\r\n          </b-button>\r\n          <b-button size=\"sm\" class=\"mr-2\" variant=\"success\" @click=\"openModal(row)\">\r\n           发送\r\n          </b-button>\r\n          <b-modal no-close-on-backdrop no-close-on-esc :hide-header-close='row.item.okLoading' :id=\"'modalPrevent'+row.index\" :ref=\"'modal'+row.index\" title=\"选择邮箱地址\" @ok=\"handleOk($event,row)\" :ok-disabled=\"okLoadingFlag\" :ok-title=\"okTitle\" :cancel-disabled=\"row.item.okLoading\"  cancel-title=\"取消\" ok-variant=\"info\" cancel-variant=\"link\">\r\n            <b-form-select multiple v-model=\"row.item.nameEmails\" class=\"mb-3\">\r\n              <option v-for=\"(item,index) in emailOptions\" :value=\"item.sale_name+' --- '+item.sale_email\" :key=\"index\">{{item.sale_name+' --- '+item.sale_email}}</option>\r\n            </b-form-select>\r\n            <div style=\"text-align:left;over-flow:hidden\">\r\n              <div style=\"float:left;\">已选择：</div>\r\n              <div style=\"float:left;margin-left:15px;color:#41babc\" v-for=\"(item,index) in row.item.nameEmails\" :key=\"index\"> {{ item.split(' --- ')[0] }}</div>\r\n            </div>\r\n          </b-modal>\r\n        </template>\r\n      </b-table>\r\n\r\n      <div style=\"float:left;font-size:14px;padding-left:10px\">\r\n        {{selectArr.length}}条被选中，<b-button variant=\"link\" size=\"sm\" @click=\"openAllModal\" :disabled=\"selectArr.length===0\">点击发送到邮箱</b-button>\r\n      </div>\r\n      <b-modal no-close-on-backdrop no-close-on-esc :hide-header-close='okLoading' id=\"modalPreventAll\" ref=\"modalAll\" title=\"选择邮箱地址\" @ok=\"handleOk($event,selectArr)\" :ok-disabled=\"okLoadingFlag\" :ok-title=\"okTitle\" :cancel-disabled=\"okLoading\" cancel-title=\"取消\" ok-variant=\"info\" cancel-variant=\"link\">\r\n        <b-form-select multiple v-model=\"nameEmails\" class=\"mb-3\">\r\n          <option v-for=\"(item,index) in emailOptions\" :value=\"item.sale_name+' --- '+item.sale_email\" :key=\"index\">{{item.sale_name+' --- '+item.sale_email}}</option>\r\n        </b-form-select>\r\n        <div style=\"text-align:left;over-flow:hidden\">\r\n          <div style=\"float:left;\">已选择：</div>\r\n          <div style=\"float:left;margin-left:15px;color:#41babc\" v-for=\"(item,index) in nameEmails\" :key=\"index\">{{ item.split(' --- ')[0] }}</div>\r\n        </div>\r\n      </b-modal>\r\n\r\n      <div class=\"paginationCon\">\r\n        <b-pagination size=\"md\" :number-of-pages=\"10\" :total-rows=\"total\" v-model=\"currentPage\" @input=\"changePage\" :per-page=\"10\"></b-pagination>\r\n      </div>\r\n    </b-container>\r\n  </div>\r\n</template>\r\n<script>\r\n\r\n  export default{\r\n    components:{\r\n\r\n    },\r\n    mounted(){\r\n\r\n      if(this.$cookies.get(\"mailSecond\")!==null){\r\n        this.second = this.$cookies.get(\"mailSecond\")\r\n        this.okLoadingFlag = true\r\n        let timer = setInterval(()=>{\r\n          this.second--\r\n          this.okTitle = this.second+'s'\r\n          this.$cookies.set(\"mailSecond\",this.second)\r\n          if(this.second===0){\r\n            this.$cookies.remove(\"mailSecond\")\r\n            clearInterval(timer)\r\n            this.okLoadingFlag = false\r\n            this.second = 60\r\n            this.okTitle = '发送'\r\n          }\r\n        },1000)\r\n      }\r\n      \r\n      this.getTableData()\r\n\r\n      this.$http.post('/api/sale/details').then(response=>{\r\n        this.emailOptions = response.data.data\r\n      })\r\n\r\n    },\r\n    data () {\r\n      return {\r\n        menus: [{\r\n          text: '推送服务',\r\n          href: '#'\r\n        }],\r\n        second:60,\r\n        okLoadingFlag:false,\r\n        okTitle:'发送',\r\n        okLoading:false,\r\n        selectArr:[],\r\n        emailOptions:[{sale_name:''}],\r\n        nameEmails:[],\r\n        fields: {\r\n          select:{\r\n            label:'选择',\r\n            thStyle:{\r\n              width:'50px'\r\n            }\r\n          },\r\n          show_details:{\r\n            label:'详情'\r\n          },\r\n          order_id:{\r\n            label:'申请单号'\r\n          },\r\n          name:{\r\n            label:'受检者姓名'\r\n          },\r\n          product:{\r\n            label:'产品名'\r\n          },\r\n          vip:{\r\n            label:'VIP'\r\n          },\r\n          submit_name:{\r\n            label:'发件人'\r\n          },\r\n          sale_name:{\r\n            label:'收件人'\r\n          },\r\n          // 分析中， 未发送 ，已发送  默认分析中\r\n          send_status:{\r\n            label:'发送状态'\r\n          },\r\n          operate:{\r\n            label:'操作'\r\n          }\r\n        },\r\n        tableEmptyText:'正在请求数据...',\r\n        mailList: [],\r\n        currentPage:1,\r\n        total:0\r\n      }\r\n    },\r\n    watch:{\r\n      mailList:{\r\n        handler(val,old){\r\n          this.selectArr = val.filter(item=>{\r\n            return item.select==='y'\r\n          })\r\n        },\r\n        deep:true\r\n      }\r\n    },\r\n    methods:{\r\n      getTableData(){\r\n        this.$Loading.start()\r\n        this.tableEmptyText = \"正在请求数据...\"\r\n        this.$http.post(\"/api/mail/list\",qs.stringify({page:this.currentPage})).then(response=>{\r\n          // console.log(response.data)\r\n          this.mailList=response.data.data\r\n          this.mailList.forEach(item=>{\r\n            this.$set(item,'_showDetails',false)\r\n            this.$set(item,'nameEmails',[])\r\n            this.$set(item,'select','n')\r\n            this.$set(item,'okLoading',false)\r\n          })\r\n          Number(response.data.total)===0?this.tableEmptyText = \"[空]\":null\r\n          this.total = Number(response.data.total)\r\n          this.$Loading.finish()\r\n        })\r\n      },\r\n      show(row){\r\n        let address = row.item.report_loc.slice(20,row.item.report_loc.length)\r\n        window.open(\"/storage/report_pdf/\"+address)\r\n      },\r\n      openModal(row){\r\n        this.$refs['modal'+row.index].show()\r\n      },\r\n      openAllModal(){\r\n        this.$refs.modalAll.show()\r\n      },\r\n      handleOk(evt,arg){\r\n        this.$Loading.start()\r\n        evt.preventDefault()\r\n        let ids = []\r\n        let selectEmails = []\r\n        let selectNames=[]\r\n        // 单个发送，第二个参数是row\r\n        if(!Array.isArray(arg)){\r\n          if(arg.item.nameEmails.length===0){\r\n            alert('请选择邮箱地址')\r\n            this.$Loading.error()\r\n            return false\r\n          }\r\n          // this.okTitle = '发送中...'\r\n          arg.item.okLoading = true\r\n          this.okLoadingFlag = true\r\n          ids = [arg.item.order_id]\r\n          arg.item.nameEmails.forEach(item=>{\r\n            selectEmails.push(item.split(' --- ')[1])\r\n            selectNames.push(item.split(' --- ')[0])\r\n          })\r\n          this.$http.post(\"/api/mail/sendmail\",qs.stringify({order_id:ids,maillist:selectEmails,mail_name_list:selectNames})).then(response=>{\r\n            if(response.data.success){\r\n              this.$refs['modal'+arg.index].hide()\r\n              this.$Message.success({content:'发送成功！60s后才能再次发送'})\r\n              this.$Loading.finish()\r\n              // 刷新页面\r\n              this.getTableData()\r\n              let timer = setInterval(()=>{\r\n                this.second--\r\n                this.okTitle = this.second+'s'\r\n                this.$cookies.set(\"mailSecond\",this.second)\r\n                if(this.second===0){\r\n                  clearInterval(timer)\r\n                  this.okLoadingFlag = false\r\n                  this.second = 60\r\n                  this.$cookies.remove(\"mailSecond\")\r\n                  this.okTitle = '发送'\r\n                }\r\n              },1000)\r\n            }else{\r\n              arg.item.okLoading = false\r\n              this.$Message.error({content:'发送失败！60s后才能再次发送'})\r\n              this.$Loading.error()\r\n              let timer = setInterval(()=>{\r\n                this.second--\r\n                this.okTitle = this.second+'s'\r\n                this.$cookies.set(\"mailSecond\",this.second)\r\n                if(this.second===0){\r\n                  clearInterval(timer)\r\n                  this.okLoadingFlag = false\r\n                  this.second = 60\r\n                  this.$cookies.remove(\"mailSecond\")\r\n                  this.okTitle = '发送'\r\n                }\r\n              },1000)\r\n            }\r\n          }).catch(err=>{\r\n            arg.item.okLoading = false\r\n            // arg.item.nameEmails = []\r\n            this.$Message.error({content:'发送失败！60s后才能再次发送'})\r\n            this.$Loading.error()\r\n            let timer = setInterval(()=>{\r\n              this.second--\r\n              this.okTitle = this.second+'s'\r\n              this.$cookies.set(\"mailSecond\",this.second)\r\n              if(this.second===0){\r\n                clearInterval(timer)\r\n                this.okLoadingFlag = false\r\n                this.second = 60\r\n                this.$cookies.remove(\"mailSecond\")\r\n                this.okTitle = '发送'\r\n              }\r\n            },1000)\r\n          })\r\n        }else{\r\n        // 批量发送。第二个参数是selectArr\r\n          if(this.nameEmails.length===0){\r\n            this.$Message.warning({content:'请选择邮箱地址'})\r\n            this.$Loading.error()\r\n            return false\r\n          }\r\n          // this.okTitle = '发送中...'\r\n          this.okLoading = true\r\n          this.okLoadingFlag = true\r\n          this.selectArr.forEach(item=>{\r\n            ids.push(item.order_id)\r\n          })\r\n          this.nameEmails.forEach(item=>{\r\n            selectEmails.push(item.split(' --- ')[1])\r\n            selectNames.push(item.split(' --- ')[0])\r\n          })\r\n          this.$http.post(\"/api/mail/sendmail\",qs.stringify({order_id:ids,maillist:selectEmails,mail_name_list:selectNames})).then(response=>{\r\n            if(response.data.success){\r\n              this.$refs.modalAll.hide()\r\n              // 将数据清空\r\n              this.selectArr=[]\r\n              this.nameEmails=[]\r\n              this.okLoading = false\r\n              this.$Message.success({content:'发送成功！60s后才能再次发送'})\r\n              this.$Loading.finish()\r\n              this.getTableData()\r\n              let timer = setInterval(()=>{\r\n                this.second--\r\n                this.okTitle = this.second+'s'\r\n                this.$cookies.set(\"mailSecond\",this.second)\r\n                if(this.second===0){\r\n                  clearInterval(timer)\r\n                  this.okLoadingFlag = false\r\n                  this.second = 60\r\n                  this.$cookies.remove(\"mailSecond\")\r\n                  this.okTitle='发送'\r\n                }\r\n              },1000)\r\n            }else{\r\n              this.okLoading = false\r\n              this.$Message.error({content:'发送失败！60s后才能再次发送'})\r\n              this.$Loading.error()\r\n              let timer = setInterval(()=>{\r\n                this.second--\r\n                this.okTitle = this.second+'s'\r\n                this.$cookies.set(\"mailSecond\",this.second)\r\n                if(this.second===0){\r\n                  clearInterval(timer)\r\n                  this.okLoadingFlag = false\r\n                  this.second = 60\r\n                  this.$cookies.remove(\"mailSecond\")\r\n                  this.okTitle='发送'\r\n                }\r\n              },1000)\r\n            }\r\n          }).catch(err=>{\r\n            this.okLoading = false\r\n            this.$Message.error({content:'发送失败！60s后才能再次发送'})\r\n            this.$Loading.error()\r\n            let timer = setInterval(()=>{\r\n              this.second--\r\n              this.okTitle = this.second+'s'\r\n              this.$cookies.set(\"mailSecond\",this.second)\r\n              if(this.second===0){\r\n                clearInterval(timer)\r\n                this.okLoadingFlag = false\r\n                this.second = 60\r\n                this.$cookies.remove(\"mailSecond\")\r\n                this.okTitle='发送'\r\n              }\r\n            },1000)\r\n          })\r\n        }\r\n      },\r\n      changePage(){\r\n        this.getTableData()\r\n      }\r\n    }\r\n\r\n  }\r\n</script>\r\n<style lang='less' scoped>\r\n@import '../../../less/init.less';\r\n\r\n</style>\n\n\n// WEBPACK FOOTER //\n// resources/assets/js/components/backStage/SendMail.vue"],"sourceRoot":""}
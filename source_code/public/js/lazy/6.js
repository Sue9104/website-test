webpackJsonp([6],{"6o16":function(t,e,r){var a=r("VU/8")(r("Mhyg"),r("8VxM"),!1,function(t){r("FKm3")},"data-v-87f3dca0",null);t.exports=a.exports},"8VxM":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"onTransTaskMain"}},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},["/ontrans"===t.$route.path?r("el-breadcrumb-item",{attrs:{to:{path:"/translationlist"}}},[t._v("Translation List")]):t._e(),t._v(" "),"/retrans"===t.$route.path?r("el-breadcrumb-item",{attrs:{to:{path:"/retranslationlist"}}},[t._v("Re-translation List")]):t._e(),t._v(" "),"/viewqualified"===t.$route.path?r("el-breadcrumb-item",{attrs:{to:{path:"/qualifiedlist"}}},[t._v("Qualified List")]):t._e(),t._v(" "),r("el-breadcrumb-item",[t._v("Translate")])],1),t._v(" "),r("div",{attrs:{id:"onTransCon"}},[r("div",[r("el-tag",{attrs:{type:"info"}},[t._v("Project Name:"+t._s(t.currentItem.product))]),t._v(" "),r("el-tag",{attrs:{type:"info"}},[t._v("Priority:\n        "),"1"==t.currentItem.priority?r("span",[t._v("Low")]):t._e(),t._v(" "),"2"==t.currentItem.priority?r("span",[t._v("Normal")]):t._e(),t._v(" "),"3"==t.currentItem.priority?r("span",{staticStyle:{color:"red"}},[t._v("High")]):t._e()]),t._v(" "),r("el-tag",{attrs:{type:"info"}},[t._v("Language:"+t._s(t.currentItem.lang))]),t._v(" "),r("el-tag",{attrs:{type:"info"}},[t._v("Creator:"+t._s(t.currentItem.allocate_users_name))]),t._v(" "),r("el-tag",{attrs:{type:"info"}},[t._v("Deadline:"+t._s(t.currentItem.deadline&&t.currentItem.deadline.split(" ")[1]?t.currentItem.deadline.split(" ")[0]:t.currentItem.deadline))]),t._v(" "),"Untranslated"===t.currentItem.status||"Re-translated"===t.currentItem.status?r("el-button",{attrs:{type:"success",size:"small",id:"submitBtn"},on:{click:t.submit}},[t._v("Submit")]):t._e()],1),t._v(" "),r("div",{attrs:{id:"transBox"}},[r("div",[r("el-card",{staticClass:"boxCard"},[r("div",{staticClass:"rawDataText",attrs:{id:"rawDataText1"}},[t._v(t._s(t.currentItem.key?t.currentItem.key:"Please select the content you need to translate."))]),t._v(" "),r("div",{staticClass:"btnCon"},[r("el-button",{attrs:{type:"primary",id:"googleBtn1"},on:{click:function(e){t.googleTrans(t.currentItem.key,"k")}}},[t._v("Google")])],1)]),t._v(" "),r("el-card",{staticClass:"boxCard"},[r("el-input",{attrs:{type:"textarea",placeholder:"Please enter content"},model:{value:t.currentItem.targetKey,callback:function(e){t.$set(t.currentItem,"targetKey",e)},expression:"currentItem.targetKey"}})],1)],1),t._v(" "),t._l(JSON.parse(t.currentItem.translate),function(e,a){return r("div",{key:a,attrs:{name:a+2}},[r("el-card",{staticClass:"boxCard"},[r("div",{staticClass:"rawDataText",attrs:{id:"rawDataText"+(a+2)}},[t._v(t._s(e||"Please select the content you need to translate."))]),t._v(" "),r("div",{staticClass:"btnCon"},[r("el-button",{attrs:{type:"primary",id:"googleBtn"+(a+2)},on:{click:function(r){t.googleTrans(e,a)}}},[t._v("Google")])],1)]),t._v(" "),r("el-card",{staticClass:"boxCard"},[r("el-input",{attrs:{type:"textarea",placeholder:"Please enter content"},model:{value:t.currentItem.target[a],callback:function(e){t.$set(t.currentItem.target,a,e)},expression:"currentItem.target[index]"}})],1)],1)})],2)])],1)},staticRenderFns:[]}},FKm3:function(t,e,r){var a=r("J6MI");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);r("rjj0")("3ceb9dad",a,!0,{})},J6MI:function(t,e,r){(t.exports=r("FZ+f")(!1)).push([t.i,"",""])},Mhyg:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={mounted:function(){var t=this;this.$http.post("/api/translate/translate_list",qs.stringify({id:this.$route.query.id,status:this.status})).then(function(e){e.data.result.data.forEach(function(e){t.$set(e,"target",[]),t.$set(e,"targetKey","")}),t.currentItem=e.data.result.data[0];for(var r=0;r<JSON.parse(t.currentItem.translate).length;r++)t.activeName.push(r+2)})},data:function(){return{currentItem:{translate:"[]"}}},computed:{status:function(){return"/ontrans"===this.$route.path?"Untranslated":"/retrans"===this.$route.path?"Re-translated":"/viewqualified"===this.$route.path?"Qualified":null}},watch:{"currentItem.target":{handler:function(t,e){},deep:!0}},methods:{save:function(t,e){t.trim()?"k"===e?this.currentItem.targetKey=t.trim():this.currentItem.target[e]=t.trim():this.$notify({title:"Notice",message:"Please fill in the translation.",type:"error"})},googleTrans:function(t,e){var r=void 0,a=void 0;t.trim()&&("k"===e?(r=t.trim(),a=$("#googleBtn1")):(r=t.trim(),a=$("#googleBtn"+(e+2)))),a.html("Opening.."),setTimeout(function(){a.html("Google"),window.open("https://translate.google.cn/#view=home&op=translate&sl=en&tl=zh-CN&text="+r)},500)},submit:function(){var t=this,e=!1,r=!1;if(this.currentItem.target.forEach(function(t){(!t||!t.trim())&&(e=!0)}),!this.currentItem.targetKey.trim()&&(r=!0),e||r)return this.$notify({title:"Notice",message:"All entries must be translated before they can be submitted!",type:"error"}),!1;var a={};a.translate_job_id=this.$route.query.id;var n={};n[this.currentItem.key]=this.currentItem.targetKey,a.key_translation=JSON.stringify([n]);var s=[];JSON.parse(this.currentItem.translate).forEach(function(e,r){var a={};a[e]=t.currentItem.target[r],s.push(a)}),a.fields_translation=JSON.stringify(s),a.status=this.currentItem.status,this.$http.post("/api/translate/translate",qs.stringify(a)).then(function(e){t.$notify({title:"Notice",message:"Save successfully!",type:"success"}),setTimeout(function(){"/ontrans"===t.$route.path&&(t.$store.state.taskList.Untranslated_nums-=1,t.$router.push("/translationlist")),"/retrans"===t.$route.path&&(t.$store.state.taskList.Re_translated_nums-=1,t.$router.push("/retranslationlist"))},500)})}}}}});
//# sourceMappingURL=6.js.map
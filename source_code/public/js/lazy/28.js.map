{"version":3,"sources":["webpack:///resources/assets/js/components/backStage/qcManage/LibqcaQC.vue","webpack:///./resources/assets/js/components/backStage/qcManage/LibqcaQC.vue?55bf","webpack:///./resources/assets/js/components/backStage/qcManage/LibqcaQC.vue","webpack:///./resources/assets/js/components/backStage/qcManage/LibqcaQC.vue?85c5","webpack:///./resources/assets/js/components/backStage/qcManage/LibqcaQC.vue?7fec"],"names":["__webpack_exports__","mounted","this","getTableData","data","menus","text","href","fields","show_details","label","order_id","name","product","vip","lib_name","lib_prep_user","libqca_user","libqca_status","operate","tableEmptyText","libqcaLists","currentPage","total","methods","_this","$Loading","start","$http","post","qs","stringify","page","then","response","libqca","forEach","item","$set","Number","finish","openLibqcaImgModal","row","$refs","index","show","submitNuqc","_this2","libqc_type","changePage","content","__webpack_require__","module","i","locals","exports","Component","normalizeComponent","ssrContext","push","render","_vm","_h","$createElement","_c","_self","attrs","items","_v","fluid","bordered","responsive","hover","head-variant","show-empty","empty-text","scopedSlots","_u","key","fn","directives","rawName","value","expression","on","click","$event","_showDetails","_s","staticClass","sm","libqca_startdate","libqca_volume","libqca_volume_unit","lib_size","lib_size_unit","abnormal","libqca_img","staticStyle","cursor","src","lib_img","alt","width","height","title","ref","hide-footer","color","style","lib_qc_status","lib_qc_a_status","size","variant","number-of-pages","total-rows","per-page","input","model","callback","$$v","staticRenderFns"],"mappings":"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","file":"js/lazy/28.js","sourcesContent":["<template>\r\n  <div>\r\n    <b-breadcrumb :items=\"menus\"/>\r\n    <b-container fluid>\r\n      <b-table bordered responsive hover :items=\"libqcaLists\" :fields=\"fields\" head-variant='light' show-empty :empty-text=\"tableEmptyText\">\r\n        <template slot=\"show_details\" slot-scope=\"row\">\r\n          <b-link @click=\"row.item._showDetails=!row.item._showDetails\" v-show=\"row.item.libqca_status!==''\">{{row.item._showDetails?'收起':'展开'}}</b-link>\r\n        </template>\r\n        <!-- 详情模板 -->\r\n        <template slot=\"row-details\" slot-scope=\"row\">\r\n          <b-card>\r\n            <b-row class=\"mb-2\">\r\n              <b-col sm=\"3\">文库定性质控时间：</b-col>\r\n              <b-col sm=\"3\">{{ row.item.libqca_startdate }}</b-col>\r\n              <!--<b-col sm=\"3\">文库定性质控结束时间：</b-col>\r\n              <b-col sm=\"3\">{{ row.item.libqca_enddate }}</b-col>\r\n              <b-col sm=\"3\">文库定性质控SOP版本号：</b-col>\r\n              <b-col sm=\"3\">{{ row.item.version }}</b-col>-->\r\n              <b-col sm=\"3\">文库定性体积：</b-col>\r\n              <b-col sm=\"3\">{{ row.item.libqca_volume+row.item.libqca_volume_unit }}</b-col>\r\n              <b-col sm=\"3\">文库大小：</b-col>\r\n              <b-col sm=\"9\">{{ row.item.lib_size+row.item.lib_size_unit }}</b-col>\r\n              <b-col sm=\"3\">异常类型：</b-col>\r\n              <b-col sm=\"9\">{{ row.item.abnormal }}</b-col>\r\n              <b-col sm=\"3\">文库定性结果：</b-col>\r\n              <b-col sm=\"9\">\r\n                <img :src=\"row.item.lib_img\" style=\"cursor:pointer\" alt=\"\" width=\"30vw\" height=\"30vh\" title=\"点击预览\" alt=\"图片无法显示\" @click=\"openLibqcaImgModal(row)\" v-show=\"row.item.libqca_img!==''\">\r\n                <b-modal :ref=\"'previewLibqcaImgModal'+row.index\" hide-footer title=\"预览图片\">\r\n                  <img :src=\"row.item.lib_img\" width=\"550px\" height=\"600px\" />\r\n                </b-modal>\r\n              </b-col>\r\n            </b-row>\r\n          </b-card>\r\n        </template>\r\n        <template slot=\"vip\" slot-scope=\"row\">\r\n          <span v-show=\"row.item.vip==='1'\" style=\"color:red\">VIP</span>\r\n        </template>\r\n        <template slot=\"libqca_status\" slot-scope=\"row\">\r\n          <span :style=\"row.item.libqca_status==='1'?'':'color:red'\">{{row.item.libqca_status==='1'?'成功':'失败'}}</span>\r\n        </template>\r\n        <template slot=\"operate\" slot-scope=\"row\">\r\n          <b-button size=\"sm\" class=\"mr-2\" variant=\"outline-theme\" @click=\"submitNuqc(row)\" v-show=\"row.item.lib_qc_status==='待质控'&&row.item.lib_qc_a_status==='待质控'\">\r\n           提交审批\r\n          </b-button>\r\n          <!--<b-button size=\"sm\" class=\"mr-2\" variant=\"outline-theme\" @click=\"edit(row)\" v-show=\"row.item.libqca_user===''\">\r\n           定性质控\r\n          </b-button>\r\n          <b-modal :ref=\"'libqcaModal'+row.index\" hide-footer no-close-on-backdrop :title=\"'文库定性质控信息 -- '+row.item.order_id\">\r\n            <b-form class=\"smForm\" style=\"text-align:left\" @submit.prevent=\"onSubmit($event,row)\">\r\n              <b-form-group :id=\"'libqca_userGroup'+row.index\" label=\"文库定性质控人:\" label-size=\"sm\" :label-for=\"'libqca_user'+row.index\">\r\n                <b-form-input autocomplete=\"off\" size=\"sm\" :id=\"'libqca_user'+row.index\" v-model=\"currentForm.libqca_user\" required>\r\n                </b-form-input>\r\n              </b-form-group>\r\n              <b-form-group :id=\"'libqca_startdateGroup'+row.index\" label=\"文库定性质控时间:\" label-size=\"sm\" :label-for=\"'libqca_startdate'+row.index\">\r\n                <b-form-input autocomplete=\"off\" size=\"sm\" type=\"text\" class=\"Wdate\" onFocus=\"WdatePicker({lang:'zh-cn',maxDate:new Date().toLocaleDateString()})\" :id=\"'libqca_startdate'+row.index\" v-model=\"currentForm.libqca_startdate\" required :max=\"$changeDate(new Date())\">>\r\n                </b-form-input>\r\n              </b-form-group>\r\n              <b-form-group :id=\"'libqca_enddateGroup'+row.index\" label=\"文库定性质控结束时间:\" label-size=\"sm\" :label-for=\"'libqca_enddate'+row.index\">\r\n                <b-form-input autocomplete=\"off\" size=\"sm\" type=\"text\" class=\"Wdate\" onFocus=\"WdatePicker({lang:'zh-cn',maxDate:new Date().toLocaleDateString()})\" :id=\"'libqca_enddate'+row.index\" v-model=\"currentForm.libqca_enddate\" required :max=\"$changeDate(new Date())\">>\r\n                </b-form-input>\r\n              </b-form-group>\r\n              <b-form-group :id=\"'sop_idGroup'+row.index\" label=\"文库定性质控SOP版本号:\" label-size=\"sm\" :label-for=\"'sop_id'+row.index\">\r\n                <b-form-select size=\"sm\" :id=\"'sop_id'+row.index\" :options=\"libaSopList\" required v-model=\"currentForm.sop_id\">\r\n                </b-form-select>\r\n              </b-form-group>\r\n              <b-form-group :id=\"'libqca_volumeGroup'+row.index\" label=\"文库定性体积(0.1~999.9):\" label-size=\"sm\" :label-for=\"'libqca_volume'+row.index\">\r\n                <b-input-group>\r\n                  <b-form-input autocomplete=\"off\" size=\"sm\" :id=\"'libqca_volume'+row.index\" type=\"number\" min=\"0.1\" max=\"999.9\" step=\"0.1\" v-model.trim=\"currentForm.libqca_volume\" required></b-form-input>\r\n                  <b-form-select slot=\"append\" size=\"sm\" :id=\"'libqca_volume_unit'+row.index\" :options=\"unitsList\" required v-model=\"currentForm.libqca_volume_unit\"></b-form-select>\r\n                </b-input-group>\r\n              </b-form-group>\r\n              <b-form-group :id=\"'lib_sizeGroup'+row.index\" label=\"文库大小(1~99999999999):\" label-size=\"sm\" :label-for=\"'lib_size'+row.index\">\r\n                <b-input-group>\r\n                  <b-form-input autocomplete=\"off\" size=\"sm\" :id=\"'lib_size'+row.index\" type=\"number\" min=\"1\" max=\"99999999999\" step=\"1\" v-model.trim=\"currentForm.lib_size\" required></b-form-input>\r\n                  <b-form-select slot=\"append\" size=\"sm\" :id=\"'lib_size_unit'+row.index\" :options=\"unitsList\" required v-model=\"currentForm.lib_size_unit\"></b-form-select>\r\n                </b-input-group>\r\n              </b-form-group>\r\n              <b-form-group :id=\"'libqca_statusGroup'+row.index\" label=\"文库定性质控状态:\" label-size=\"sm\" :label-for=\"'libqca_status'+row.index\">\r\n                <b-form-radio-group :id=\"'libqca_status'+row.index\" v-model=\"currentForm.libqca_status\" name=\"radioOpenions\" required>\r\n                  <b-form-radio value=\"1\">成功</b-form-radio>\r\n                  <b-form-radio value=\"2\">失败</b-form-radio>\r\n                </b-form-radio-group>\r\n              </b-form-group>\r\n              <b-form-group :id=\"'abnormalGroup'+row.index\" label=\"异常类型:\" label-size=\"sm\" :label-for=\"'abnormal'+row.index\">\r\n                <b-form-input autocomplete=\"off\" size=\"sm\" :id=\"'abnormal'+row.index\" v-model=\"currentForm.abnormal\">\r\n                </b-form-input>\r\n              </b-form-group>\r\n              <b-form-group :id=\"'lib_imgGroup'+row.index\" label=\"\" label-size=\"sm\" :label-for=\"'lib_img\" v-if=\"false\">\r\n                <b-form-input autocomplete=\"off\" size=\"sm\" :id=\"'lib_img\" v-model=\"currentForm.lib_img\" required>\r\n                </b-form-input>\r\n              </b-form-group>\r\n              <b-form-group :id=\"'lib_img_sourceGroup'+row.index\" label=\"文库定性结果(必选):\" label-size=\"sm\" :label-for=\"'lib_img_source'+row.index\">\r\n                <b-form-file accept=\"image/*\" :id=\"'libqcaImgUpload'+row.index\" v-model=\"currentForm.lib_img_source\" class=\"mt-3\" plain @change=\"changeLibqcaImg(row)\"></b-form-file>\r\n              </b-form-group>\r\n              <b-button type=\"submit\" style=\"width:100%\" variant=\"info\">提交</b-button>\r\n            </b-form>\r\n          </b-modal>-->\r\n        </template>\r\n      </b-table>\r\n      <div class=\"paginationCon\">\r\n        <b-pagination size=\"md\" :number-of-pages=\"10\" :total-rows=\"total\" v-model=\"currentPage\" @input=\"changePage\" :per-page=\"10\"></b-pagination>\r\n      </div>\r\n    </b-container>\r\n  </div>\r\n</template>\r\n<script>\r\n// import '../../../../../../public/js/lrz.bundle.js'\r\n  export default{\r\n    mounted(){\r\n      // this.$http.post(\"/api/sop/listsop\",qs.stringify({page:this.currentPage,type:'libqca'})).then(response=>{\r\n      //   // console.log(response.data)\r\n      //   response.data.data.forEach(item=>{\r\n      //     this.libaSopList.push({value:item.sopid,text:item.version})\r\n      //   })\r\n      // })\r\n\r\n      // this.$http.post(\"api/units/getunits\").then(response=>{\r\n      //   // console.log(response.data)\r\n      //   this.unitsList = response.data\r\n      // })\r\n      this.getTableData()\r\n      \r\n    },\r\n    data () {\r\n      return {\r\n        menus: [{\r\n          text: '文库定性质控',\r\n          href: '#'\r\n        }],\r\n        // libaSopList:[],\r\n        // unitsList:[],\r\n        // currentForm:{\r\n        //   order_id:'',\r\n        //   // libqca_user:'',\r\n        //   // sop_id:'',\r\n        //   libqca_startdate:'',\r\n        //   // 暂时无用\r\n        //   libqca_enddate:'',\r\n        //   libqca_volume:'',\r\n        //   libqca_volume_unit:'μl',\r\n        //   lib_size:'',\r\n        //   lib_size_unit:'bp',\r\n        //   // 1成功 2失败\r\n        //   libqca_status:'',\r\n        //   abnormal:'',\r\n        //   lib_img:'',\r\n        //   lib_img_source:''\r\n        // },\r\n        fields: {\r\n          show_details:{\r\n            label:'详情'\r\n          },\r\n          order_id:{\r\n            label:'申请单号'\r\n          },\r\n          name:{\r\n            label:'受检者姓名'\r\n          },\r\n          product:{\r\n            label:'产品名'\r\n          },\r\n          vip:{\r\n            label:'VIP'\r\n          },\r\n          lib_name:{\r\n            label:'文库名称'\r\n          },\r\n          lib_prep_user:{\r\n            label:'文库准备人'\r\n          },\r\n          libqca_user:{\r\n            label:'文库定性质控人'\r\n          },\r\n          libqca_status:{\r\n            label:'文库定性质控状态'\r\n          },\r\n          operate:{\r\n            label:'操作'\r\n          }\r\n        },\r\n        tableEmptyText:'正在请求数据...',\r\n        libqcaLists: [],\r\n        currentPage:1,\r\n        total:0\r\n      }\r\n    },\r\n    methods:{\r\n      getTableData(){\r\n        this.$Loading.start()\r\n        this.tableEmptyText = \"正在请求数据...\"\r\n        this.$http.post(\"/api/lib/listlibqc\",qs.stringify({page:this.currentPage})).then(response=>{\r\n          // console.log(response.data.libqca.data)\r\n          this.libqcaLists=response.data.libqca.data\r\n          this.libqcaLists.forEach(item=>{\r\n            this.$set(item,'_showDetails',false)\r\n          })\r\n          Number(response.data.libqca.total)===0?this.tableEmptyText = \"[空]\":null\r\n          this.total = Number(response.data.libqca.total)\r\n          this.$Loading.finish()\r\n        })\r\n      },\r\n      openLibqcaImgModal(row){\r\n        this.$refs['previewLibqcaImgModal'+row.index].show()\r\n      },\r\n      submitNuqc(row){\r\n        this.$http.post(\"/api/lib/submit_libqc\",qs.stringify({libqc_type:'libqca',order_id:row.item.order_id})).then(response=>{\r\n          // console.log(response.data)\r\n          this.getTableData()\r\n        })\r\n      },\r\n      // edit(row){\r\n      //   if(this.currentForm.order_id!==row.item.order_id){\r\n      //     for(var k in row.item){\r\n      //       this.currentForm[k]=row.item[k]\r\n      //     }\r\n      //   }\r\n      //   this.currentForm.libqca_volume_unit='μl'\r\n      //   this.currentForm.lib_size_unit='bp'\r\n      //   this.$refs['libqcaModal'+row.index].show()\r\n      // },\r\n      // // 监听图片改变并压缩\r\n      // changeLibqcaImg(row){\r\n      //   if(document.getElementById(\"libqcaImgUpload\" + row.index).files.length===0){\r\n      //     this.currentForm.lib_img=''\r\n      //     return false\r\n      //   }\r\n      //   let file = document.getElementById(\"libqcaImgUpload\" + row.index).files[0];\r\n      //   var reader = new FileReader();\r\n      //   reader.readAsDataURL(file);\r\n      //   reader.onload = (e) => {\r\n      //   lrz(file)\r\n      //     .then(rst=> {\r\n      //       this.currentForm.lib_img=rst.base64\r\n      //     })\r\n      //     .catch(err=> {})\r\n      //     .always(()=> {});\r\n      //   };\r\n      // },\r\n      // onSubmit(evt,row){\r\n      //   evt.preventDefault();\r\n      //   if(!this.currentForm.lib_img){\r\n      //     this.$Message.error('文库定性结果图片必须上传！')\r\n      //     return false;\r\n      //   }\r\n      //   this.$Loading.start()\r\n      //   // 需要重新把date97的日期赋值给currentForm,否则无法获取\r\n      //   this.currentForm.libqca_startdate = $(\"#libqca_startdate\"+row.index).val()\r\n      //   // this.currentForm.libqca_enddate = $(\"#libqca_enddate\").val()\r\n      //   // console.log(this.currentForm)\r\n      //   this.$http.post(\"/api/lib/addlibqca\",qs.stringify(this.currentForm)).then(response=>{\r\n      //     this.getTableData()\r\n      //     this.$refs['libqcaModal'+row.index].hide()\r\n      //     this.$Loading.finish()\r\n      //     this.currentForm={\r\n      //       order_id:'',\r\n      //       // libqca_user:'',\r\n      //       // sop_id:'',\r\n      //       libqca_startdate:'',\r\n      //       libqca_enddate:'',\r\n      //       libqca_volume:'',\r\n      //       libqca_volume_unit:'μl',\r\n      //       lib_size:'',\r\n      //       lib_size_unit:'bp',\r\n      //       // 1成功 2失败\r\n      //       libqca_status:'',\r\n      //       abnormal:'',\r\n      //       lib_img:'',\r\n      //       lib_img_source:''\r\n      //     }\r\n      //   })\r\n\r\n      // },\r\n      changePage(){\r\n        this.getTableData()\r\n      }\r\n    }\r\n\r\n  }\r\n</script>\r\n<style lang='less' scoped>\r\n@import '../../../../less/init.less';\r\n#plasm_use_unit{\r\n  border-bottom-left-radius: 0;\r\n  border-top-left-radius: 0;\r\n}\r\n#plasm_unit{\r\n  border-bottom-left-radius: 0;\r\n  border-top-left-radius: 0;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// resources/assets/js/components/backStage/qcManage/LibqcaQC.vue","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/css-loader/index.js?minimize!../../../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-fce32f32\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../../../../../node_modules/less-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./LibqcaQC.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"20b94bbe\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader!./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-fce32f32\",\"scoped\":true,\"hasInlineConfig\":true}!./node_modules/less-loader/dist/cjs.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./resources/assets/js/components/backStage/qcManage/LibqcaQC.vue\n// module id = PvSq\n// module chunks = 28","function injectStyle (ssrContext) {\n  require(\"!!vue-style-loader!css-loader?minimize!../../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-fce32f32\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!less-loader!../../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./LibqcaQC.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nvar __vue_script__ = require(\"!!babel-loader?{\\\"cacheDirectory\\\":true,\\\"presets\\\":[[\\\"env\\\",{\\\"modules\\\":false,\\\"targets\\\":{\\\"browsers\\\":[\\\"> 2%\\\"],\\\"uglify\\\":true}}]],\\\"plugins\\\":[\\\"transform-object-rest-spread\\\",[\\\"transform-runtime\\\",{\\\"polyfill\\\":false,\\\"helpers\\\":false}],\\\"syntax-dynamic-import\\\",[\\\"import\\\",{\\\"libraryName\\\":\\\"iview\\\",\\\"libraryDirectory\\\":\\\"src/components\\\"}]]}!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./LibqcaQC.vue\")\n/* template */\nvar __vue_template__ = require(\"!!../../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-fce32f32\\\",\\\"hasScoped\\\":true,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./LibqcaQC.vue\")\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-fce32f32\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./resources/assets/js/components/backStage/qcManage/LibqcaQC.vue\n// module id = YIz9\n// module chunks = 28","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n@media (min-width:1000px){min-width:1150px\\n}\\n@media (min-width:650px) and (max-width:999px){min-width:750px\\n}\\n@media (min-width:650px){\\n.modal-dialog[data-v-fce32f32]{max-width:600px\\n}\\n.modal-dialog .modal-md[data-v-fce32f32]{max-width:600px\\n}\\n.reviewDescTd[data-v-fce32f32]{max-width:160px\\n}\\n}\\n@keyframes ani-demo-spin-data-v-fce32f32{\\nfrom{transform:rotate(0deg)\\n}\\n50%{transform:rotate(180deg)\\n}\\nto{transform:rotate(360deg)\\n}\\n}\\n.ivu-spin-fix[data-v-fce32f32]{background-color:rgba(255,255,255,0.9)\\n}\\n.ivu-spin-fix .ivu-spin-text[data-v-fce32f32]{display:flex;justify-content:center\\n}\\n.ivu-spin-fix .ivu-spin-text>div[data-v-fce32f32]{display:inline-block;width:300px;background:#eee;padding:40px;border-radius:5px\\n}\\n.ivu-spin-fix .ivu-spin-text>div .spin-icon-load[data-v-fce32f32]{animation:ani-demo-spin-data-v-fce32f32 1s linear infinite !important\\n}\\n.ivu-message[data-v-fce32f32]{z-index:1060\\n}\\ninput[required][data-v-fce32f32]:invalid,input[data-v-fce32f32]:focus:invalid,textarea[required][data-v-fce32f32]:invalid,textarea[data-v-fce32f32]:focus:invalid{box-shadow:none\\n}\\n.nowrap1[data-v-fce32f32]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap\\n}\\n.maxw120[data-v-fce32f32]{max-width:120px\\n}\\n.custom-control-input:checked~.custom-control-label[data-v-fce32f32]:before{background-color:#41babc !important\\n}\\n.custom-control-inline[data-v-fce32f32]{margin-right:0 !important\\n}\\n.form-control[data-v-fce32f32]:focus{box-shadow:0 0 0 0 transparent\\n}\\n.authTd[data-v-fce32f32]{text-align:left !important\\n}\\n.importResultStyle[data-v-fce32f32]{height:600px;overflow:auto\\n}\\n#browSeqForm label[data-v-fce32f32]{justify-content:flex-start !important\\n}\\n#browSeqForm #sampleid[data-v-fce32f32]{width:100%\\n}\\n#browSeqForm select[data-v-fce32f32]{width:100%\\n}\\n.wrapTd[data-v-fce32f32]{max-width:150px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap\\n}\\n.imitate_ellipsis[data-v-fce32f32]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical\\n}\\na[data-v-fce32f32]{color:#41babc\\n}\\n.ivu-form .ivu-form-item[data-v-fce32f32]{margin-bottom:16px\\n}\\n.ivu-form .ivu-form-item-label[data-v-fce32f32]{font-size:14px;font-weight:bold\\n}\\n.ivu-input[data-v-fce32f32]{font-size:14px\\n}\\n.ivu-switch-checked[data-v-fce32f32]{border-color:#41babc;background-color:#41babc\\n}\\n.breadcrumb[data-v-fce32f32]{height:40px\\n}\\n.table td[data-v-fce32f32],.table th[data-v-fce32f32]{padding:.65rem .5rem;text-align:center;font-size:14px;word-break:break-all\\n}\\n.table td .card[data-v-fce32f32],.table th .card[data-v-fce32f32]{text-align:left\\n}\\n.btn-sm[data-v-fce32f32]{padding:.08rem .5rem !important\\n}\\n.paginationCon[data-v-fce32f32]{overflow:hidden\\n}\\n.paginationCon .pagination[data-v-fce32f32]{float:right\\n}\\n.btn-warning[data-v-fce32f32]{color:#fff\\n}\\n.btn-outline-link[data-v-fce32f32]{background-color:#ccc\\n}\\n.btn-outline-link[data-v-fce32f32]:hover{color:#fff\\n}\\n.btn-outline-warning[data-v-fce32f32]:hover{color:#fff\\n}\\n.btn-outline-warning:not(:disabled):not(.disabled).active[data-v-fce32f32],.btn-outline-warning[data-v-fce32f32]:not(:disabled):not(.disabled):active,.btn-warning:not(:disabled):not(.disabled).active[data-v-fce32f32],.btn-warning[data-v-fce32f32]:not(:disabled):not(.disabled):active{color:#fff\\n}\\n.btn-outline-theme[data-v-fce32f32]{color:#41babc;border:1px solid #41babc;background-color:transparent\\n}\\n.btn-outline-theme[data-v-fce32f32]:hover{color:#fff;background-color:#41babc\\n}\\n.btn-link[data-v-fce32f32]{padding:0;color:#41babc\\n}\\n.btn-link[data-v-fce32f32]:hover{color:#1da5a3\\n}\\n.page-link[data-v-fce32f32]{color:#41babc\\n}\\n.page-item.active .page-link[data-v-fce32f32]{background-color:#41babc;border-color:#41babc\\n}\\n.btn-info[data-v-fce32f32]{background-color:#41babc;border-color:#41babc\\n}\\n.pf[data-v-fce32f32]{position:fixed;top:0;left:0\\n}\\n.pr[data-v-fce32f32]{position:relative\\n}\\n.pa[data-v-fce32f32]{position:absolute;top:0;left:0\\n}\\n.ivu-menu[data-v-fce32f32]{background-color:#41babc;color:#41babc\\n}\\n.ivu-menu li[data-v-fce32f32]:hover{background-color:#1da5a3\\n}\\n#asideMenu .ivu-menu-vertical .ivu-menu-item[data-v-fce32f32],#asideMenu .ivu-menu-vertical .ivu-menu-submenu-title[data-v-fce32f32]{height:50px;line-height:50px;padding:0px 25px;color:#fff;font-size:16px\\n}\\n#asideMenu .ivu-menu-vertical .ivu-menu-item i[data-v-fce32f32],#asideMenu .ivu-menu-vertical .ivu-menu-submenu-title i[data-v-fce32f32]{float:right;margin-right:10px;margin-top:10px\\n}\\n#asideMenu .ivu-menu-submenu .ivu-menu-item[data-v-fce32f32]{text-align:center;font-size:14px;padding-left:0\\n}\\n#asideMenu .ivu-menu-submenu .ivu-menu-item span[data-v-fce32f32]{width:100%;display:inline-block;padding-left:20px;box-sizing:border-box\\n}\\n#asideMenu .ivu-menu-submenu-title[data-v-fce32f32]:hover{background-color:#1da5a3\\n}\\n#asideMenu .ivu-menu-item-active[data-v-fce32f32]{background-color:#1da5a3;border-right:0 solid #2d8cf0\\n}\\n#asideMenu .ivu-menu-vertical .ivu-menu-item[data-v-fce32f32],#asideMenu .ivu-menu-vertical .ivu-menu-submenu-title[data-v-fce32f32]{height:40px;line-height:40px\\n}\\n.smForm .form-group[data-v-fce32f32]{margin-bottom:8px !important;text-align:left\\n}\\n.smForm .form-group .col-form-label[data-v-fce32f32]{font-weight:bold\\n}\\n#plasm_use_unit[data-v-fce32f32]{border-bottom-left-radius:0;border-top-left-radius:0\\n}\\n#plasm_unit[data-v-fce32f32]{border-bottom-left-radius:0;border-top-left-radius:0\\n}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-fce32f32\",\"scoped\":true,\"hasInlineConfig\":true}!./node_modules/less-loader/dist/cjs.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./resources/assets/js/components/backStage/qcManage/LibqcaQC.vue\n// module id = ktS2\n// module chunks = 28","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-breadcrumb',{attrs:{\"items\":_vm.menus}}),_vm._v(\" \"),_c('b-container',{attrs:{\"fluid\":\"\"}},[_c('b-table',{attrs:{\"bordered\":\"\",\"responsive\":\"\",\"hover\":\"\",\"items\":_vm.libqcaLists,\"fields\":_vm.fields,\"head-variant\":\"light\",\"show-empty\":\"\",\"empty-text\":_vm.tableEmptyText},scopedSlots:_vm._u([{key:\"show_details\",fn:function(row){return [_c('b-link',{directives:[{name:\"show\",rawName:\"v-show\",value:(row.item.libqca_status!==''),expression:\"row.item.libqca_status!==''\"}],on:{\"click\":function($event){row.item._showDetails=!row.item._showDetails}}},[_vm._v(_vm._s(row.item._showDetails?'收起':'展开'))])]}},{key:\"row-details\",fn:function(row){return [_c('b-card',[_c('b-row',{staticClass:\"mb-2\"},[_c('b-col',{attrs:{\"sm\":\"3\"}},[_vm._v(\"文库定性质控时间：\")]),_vm._v(\" \"),_c('b-col',{attrs:{\"sm\":\"3\"}},[_vm._v(_vm._s(row.item.libqca_startdate))]),_vm._v(\" \"),_c('b-col',{attrs:{\"sm\":\"3\"}},[_vm._v(\"文库定性体积：\")]),_vm._v(\" \"),_c('b-col',{attrs:{\"sm\":\"3\"}},[_vm._v(_vm._s(row.item.libqca_volume+row.item.libqca_volume_unit))]),_vm._v(\" \"),_c('b-col',{attrs:{\"sm\":\"3\"}},[_vm._v(\"文库大小：\")]),_vm._v(\" \"),_c('b-col',{attrs:{\"sm\":\"9\"}},[_vm._v(_vm._s(row.item.lib_size+row.item.lib_size_unit))]),_vm._v(\" \"),_c('b-col',{attrs:{\"sm\":\"3\"}},[_vm._v(\"异常类型：\")]),_vm._v(\" \"),_c('b-col',{attrs:{\"sm\":\"9\"}},[_vm._v(_vm._s(row.item.abnormal))]),_vm._v(\" \"),_c('b-col',{attrs:{\"sm\":\"3\"}},[_vm._v(\"文库定性结果：\")]),_vm._v(\" \"),_c('b-col',{attrs:{\"sm\":\"9\"}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(row.item.libqca_img!==''),expression:\"row.item.libqca_img!==''\"}],staticStyle:{\"cursor\":\"pointer\"},attrs:{\"src\":row.item.lib_img,\"alt\":\"\",\"width\":\"30vw\",\"height\":\"30vh\",\"title\":\"点击预览\",\"alt\":\"图片无法显示\"},on:{\"click\":function($event){_vm.openLibqcaImgModal(row)}}}),_vm._v(\" \"),_c('b-modal',{ref:'previewLibqcaImgModal'+row.index,attrs:{\"hide-footer\":\"\",\"title\":\"预览图片\"}},[_c('img',{attrs:{\"src\":row.item.lib_img,\"width\":\"550px\",\"height\":\"600px\"}})])],1)],1)],1)]}},{key:\"vip\",fn:function(row){return [_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(row.item.vip==='1'),expression:\"row.item.vip==='1'\"}],staticStyle:{\"color\":\"red\"}},[_vm._v(\"VIP\")])]}},{key:\"libqca_status\",fn:function(row){return [_c('span',{style:(row.item.libqca_status==='1'?'':'color:red')},[_vm._v(_vm._s(row.item.libqca_status==='1'?'成功':'失败'))])]}},{key:\"operate\",fn:function(row){return [_c('b-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(row.item.lib_qc_status==='待质控'&&row.item.lib_qc_a_status==='待质控'),expression:\"row.item.lib_qc_status==='待质控'&&row.item.lib_qc_a_status==='待质控'\"}],staticClass:\"mr-2\",attrs:{\"size\":\"sm\",\"variant\":\"outline-theme\"},on:{\"click\":function($event){_vm.submitNuqc(row)}}},[_vm._v(\"\\n         提交审批\\n        \")])]}}])}),_vm._v(\" \"),_c('div',{staticClass:\"paginationCon\"},[_c('b-pagination',{attrs:{\"size\":\"md\",\"number-of-pages\":10,\"total-rows\":_vm.total,\"per-page\":10},on:{\"input\":_vm.changePage},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1)],1)],1)}\nvar staticRenderFns = []\nmodule.exports = { render: render, staticRenderFns: staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-fce32f32\",\"hasScoped\":true,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./resources/assets/js/components/backStage/qcManage/LibqcaQC.vue\n// module id = yx7S\n// module chunks = 28"],"sourceRoot":""}
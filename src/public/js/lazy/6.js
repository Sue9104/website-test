webpackJsonp([6],{"/3Bj":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"onTransTaskMain"}},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},["/ontrans"===t.$route.path?a("el-breadcrumb-item",{attrs:{to:{path:"/translation"}}},[t._v("Translation")]):t._e(),t._v(" "),"/retrans"===t.$route.path?a("el-breadcrumb-item",{attrs:{to:{path:"/retranslation"}}},[t._v("Re-translation")]):t._e(),t._v(" "),a("el-breadcrumb-item",[t._v("Translate")])],1),t._v(" "),a("div",{attrs:{id:"onTransCon"}},[a("div",[a("el-tag",{attrs:{type:"info"}},[t._v("Project Name: "+t._s(t.currentItem.product))]),t._v(" "),a("el-tag",{attrs:{type:"info"}},[t._v("Priority:\n        "),"1"==t.currentItem.priority?a("span",[t._v("Low")]):t._e(),t._v(" "),"2"==t.currentItem.priority?a("span",[t._v("Normal")]):t._e(),t._v(" "),"3"==t.currentItem.priority?a("span",{staticStyle:{color:"red"}},[t._v("High")]):t._e()]),t._v(" "),a("el-tag",{attrs:{type:"info"}},[t._v("Language: "+t._s(t.currentItem.lang))]),t._v(" "),a("el-tag",{attrs:{type:"info"}},[t._v("Creator: "+t._s(t.currentItem.allocate_users_name))]),t._v(" "),a("el-tag",{attrs:{type:"info"}},[t._v("Deadline: "+t._s(t.currentItem.deadline&&t.currentItem.deadline.split(" ")[1]?t.currentItem.deadline.split(" ")[0]:t.currentItem.deadline))]),t._v(" "),"Untranslated"===t.currentItem.status||"Re-translated"===t.currentItem.status?a("el-button",{attrs:{type:"success",size:"small",id:"submitBtn"},on:{click:t.submit}},[t._v("Submit")]):t._e()],1),t._v(" "),a("div",{attrs:{id:"transBox"}},[t._m(0),t._v(" "),a("div",{staticClass:"st_con"},[a("el-card",{staticClass:"boxCard"},[a("div",{staticClass:"rawDataText",attrs:{id:"rawDataText1"}},[t._v(t._s(t.currentItem.key))]),t._v(" "),a("div",{staticClass:"btnCon"},[a("el-button",{attrs:{type:"primary",size:"small",id:"googleBtn1"},on:{click:function(e){t.googleTrans(t.currentItem.key,"k")}}},[t._v("Google")])],1)]),t._v(" "),a("el-card",{staticClass:"boxCard"},[a("el-input",{staticClass:"afterDataText",attrs:{id:"afterDataText1",type:"textarea",placeholder:"Please enter content"},model:{value:t.currentItem.targetKey,callback:function(e){t.$set(t.currentItem,"targetKey",e)},expression:"currentItem.targetKey"}})],1)],1),t._v(" "),t._l(JSON.parse(t.currentItem.translate),function(e,r){return a("div",{key:r,staticClass:"st_con",attrs:{name:r+2}},[a("el-card",{staticClass:"boxCard"},[a("div",{staticClass:"rawDataText",attrs:{id:"rawDataText"+(r+2)}},[t._v(t._s(e))]),t._v(" "),a("div",{staticClass:"btnCon"},[a("el-button",{attrs:{type:"primary",size:"small",id:"googleBtn"+(r+2)},on:{click:function(a){t.googleTrans(e,r)}}},[t._v("Google")])],1)]),t._v(" "),a("el-card",{staticClass:"boxCard"},[a("el-input",{staticClass:"afterDataText",attrs:{id:"afterDataText"+(r+2),type:"textarea",placeholder:"Please enter content"},model:{value:t.currentItem.target[r],callback:function(e){t.$set(t.currentItem.target,r,e)},expression:"currentItem.target[index]"}})],1)],1)})],2)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"boxTitleCon"},[e("p",[this._v("Source")]),this._v(" "),e("p",[this._v("Translation")])])}]}},"6o16":function(t,e,a){var r=a("VU/8")(a("Mhyg"),a("/3Bj"),!1,function(t){a("iJYd")},"data-v-1c4d2163",null);t.exports=r.exports},"7k9S":function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"",""])},Mhyg:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={mounted:function(){var t=this;this.$http.post("/api/translate/translate_list",qs.stringify({id:this.$route.query.id,status:this.status})).then(function(e){"Untranslated"===t.status&&(e.data.result.data.forEach(function(e){t.$set(e,"target",[]),t.$set(e,"targetKey","")}),JSON.parse(e.data.result.data[0].translate).forEach(function(t){e.data.result.data[0].target.push("")})),"Re-translated"===t.status&&e.data.result.data.forEach(function(e){t.$set(e,"target",[]),JSON.parse(e.approve.translate).forEach(function(t,a){e.target.push(t[JSON.parse(e.translate)[a]])}),t.$set(e,"targetKey",JSON.parse(e.approve.key)[0][e.key])}),t.currentItem=e.data.result.data[0]})},data:function(){return{currentItem:{translate:"[]",approve:{key:"[]",translate:"[]"}}}},computed:{status:function(){return"/ontrans"===this.$route.path?"Untranslated":"/retrans"===this.$route.path?"Re-translated":null}},watch:{"currentItem.target":{handler:function(t,e){},deep:!0}},methods:{save:function(t,e){t.trim()?"k"===e?this.currentItem.targetKey=t.trim():this.currentItem.target[e]=t.trim():this.$notify({title:"Notice",message:"Please fill in the translation.",type:"error"})},googleTrans:function(t,e){var a=this,r=void 0,s=void 0;t.trim()&&("k"===e?(r=t.trim(),s=$("#googleBtn1")):(r=t.trim(),s=$("#googleBtn"+(e+2)))),s.html("Opening.."),setTimeout(function(){s.html("Google");var t=a.currentItem.lang.split(" -> ")[0],e=a.currentItem.lang.split(" -> ")[1];window.open("https://translate.google.cn/#view=home&op=translate&sl="+t+"&tl="+e+"&text="+encodeURIComponent(r))},500)},submit:function(){var t=this,e=!1,a=!1;if(this.currentItem.target.forEach(function(t){(!t||!t.trim())&&(e=!0)}),!this.currentItem.targetKey.trim()&&(a=!0),e||a)return this.$notify({title:"Notice",message:"All entries must be translated before they can be submitted!",type:"error"}),!1;var r={};r.translate_job_id=this.$route.query.id;var s={};s[this.currentItem.key]=this.currentItem.targetKey,r.key_translation=JSON.stringify([s]);var n=[];JSON.parse(this.currentItem.translate).forEach(function(e,a){var r={};r[e]=t.currentItem.target[a],n.push(r)}),r.fields_translation=JSON.stringify(n),r.status=this.currentItem.status,this.$http.post("/api/translate/translate",qs.stringify(r)).then(function(e){setTimeout(function(){"/ontrans"===t.$route.path&&(t.$store.state.taskList.Untranslated_nums-=1,t.$router.push("/translation")),"/retrans"===t.$route.path&&(t.$store.state.taskList.Re_translated_nums-=1,t.$router.push("/retranslation"))},500)})}}}},iJYd:function(t,e,a){var r=a("7k9S");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a("rjj0")("4fef22e9",r,!0,{})}});
//# sourceMappingURL=6.js.map
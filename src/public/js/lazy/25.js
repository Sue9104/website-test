webpackJsonp([25],{"24xu":function(e,t,o){var s=o("VU/8")(o("ZDpC"),o("xwQQ"),!1,function(e){o("L7YH")},"data-v-87098f44",null);e.exports=s.exports},BvLz:function(e,t,o){(e.exports=o("FZ+f")(!1)).push([e.i,"",""])},L7YH:function(e,t,o){var s=o("BvLz");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);o("rjj0")("599765f1",s,!0,{})},ZDpC:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={mounted:function(){$("#formCon").get(0).style.minHeight=window.innerHeight-100+"px","remember"===this.$cookies.get("loginStatus")?(this.$cookies.get("email")?this.loginForm.email=this.$cookies.get("email"):this.loginForm.email="",this.$cookies.get("tp")?this.loginForm.password=Base64.decode(this.$cookies.get("tp")):this.loginForm.password=""):(this.$cookies.remove("Authorization"),this.$cookies.remove("permissionvue"),this.$cookies.get("email")?this.loginForm.email=this.$cookies.get("email"):this.loginForm.email="")},data:function(){return{submitDisabled:!1,loginForm:{email:"",password:"",status:"remember"}}},methods:{onSubmit:function(e){var t=this;e.preventDefault(),this.$Loading.start(),this.submitDisabled=!0,this.$http.post("/api/login",qs.stringify(this.loginForm)).then(function(e){e.data.success&&("remember"===t.loginForm.status?(t.$cookies.set("Authorization","Bearer "+e.data.success.token,43200),t.$cookies.set("email",t.loginForm.email,43200),t.$cookies.set("tp",Base64.encode(t.loginForm.password),43200),t.$cookies.set("loginStatus",t.loginForm.status,43200),t.$cookies.set("id",e.data.success.id,43200),t.$cookies.set("role",e.data.success.role,43200)):(t.$cookies.set("email",t.loginForm.email,43200),t.$cookies.set("Authorization","Bearer "+e.data.success.token,43200),t.$cookies.set("id",e.data.success.id,43200),t.$cookies.set("role",e.data.success.role,43200),t.$cookies.remove("tp")),t.$nextTick(function(){t.$http.defaults.headers.common.Authorization=t.$cookies.get("Authorization")||""}),2==e.data.success.role?t.$router.push("/userinfo"):t.$router.push("/dashboard")),t.submitDisabled=!1,t.$Loading.done()}).catch(function(e){t.submitDisabled=!1,t.$Loading.done()})},onReset:function(e){e.preventDefault(),this.loginForm.email="",this.loginForm.password=""}}}},xwQQ:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"login"}},[o("div",{attrs:{id:"formCon"}},[o("b-form",{attrs:{id:"loginForm"},on:{submit:e.onSubmit,reset:e.onReset}},[o("b-form-group",[o("b-link",[o("img",{attrs:{src:"/images/logo.png",height:"50",width:"180",alt:"Singlera Genomics Logo"}})]),e._v(" "),o("div",{staticClass:"modeTitle"},[e._v("Sign In")])],1),e._v(" "),o("b-form-group",{attrs:{label:"UserName:","label-for":"emailLogin"}},[o("b-form-input",{attrs:{id:"emailLogin",required:"",placeholder:"please enter user email"},model:{value:e.loginForm.email,callback:function(t){e.$set(e.loginForm,"email","string"==typeof t?t.trim():t)},expression:"loginForm.email"}})],1),e._v(" "),o("b-form-group",{attrs:{label:"Password:","label-for":"pwdLogin"}},[o("b-form-input",{attrs:{id:"pwdLogin",type:"password",required:"",placeholder:"please enter password"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password","string"==typeof t?t.trim():t)},expression:"loginForm.password"}})],1),e._v(" "),o("b-form-group",[o("b-form-checkbox",{staticClass:"rememberStatus",attrs:{plain:"",id:"remembercheckbox",value:"remember","unchecked-value":"forget"},model:{value:e.loginForm.status,callback:function(t){e.$set(e.loginForm,"status","string"==typeof t?t.trim():t)},expression:"loginForm.status"}},[e._v("\n          remember\n        ")]),e._v(" "),o("div",{staticClass:"formLink"},[o("b-link",{attrs:{href:"#/register"}},[e._v("Sign Up")]),o("b-link",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.focus",modifiers:{focus:!0}}],attrs:{title:"Please contact administrator"}},[e._v("Forgot password?")])],1)],1),e._v(" "),o("b-form-group",[o("b-button",{staticClass:"submitBtn",attrs:{type:"submit",variant:"info",disabled:e.submitDisabled}},[e._v("Sign In")]),e._v(" "),o("b-button",{staticClass:"resetBtn",attrs:{type:"reset"}},[e._v("Reset")])],1)],1)],1),e._v(" "),e._m(0)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("footer",[t("div",{staticClass:"sectionCenter"},[this._v("Copyright 2019")])])}]}}});
//# sourceMappingURL=25.js.map
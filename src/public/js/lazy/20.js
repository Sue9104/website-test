webpackJsonp([20],{"24xu":function(e,t,o){var i=o("VU/8")(o("ZDpC"),o("syEo"),!1,function(e){o("agBk")},"data-v-1b17ff94",null);e.exports=i.exports},TEFh:function(e,t,o){(e.exports=o("FZ+f")(!1)).push([e.i,"",""])},ZDpC:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={mounted:function(){this.myBrowser(),$("#formCon").get(0).style.minHeight=window.innerHeight-30+"px",$("#formCon").get(0).style.height=$("#login").height()+10+"px",window.onresize=function(){$("#formCon").get(0).style.minHeight=window.innerHeight-30+"px"},"remember"===this.$cookies.get("loginStatus")?(this.$cookies.get("email")?this.loginForm.email=this.$cookies.get("email"):this.loginForm.email="",this.$cookies.get("tp")?this.loginForm.password=Base64.decode(this.$cookies.get("tp")):this.loginForm.password=""):(this.$cookies.remove("Authorization"),this.$cookies.remove("permissionvue"),this.$cookies.get("email")?this.loginForm.email=this.$cookies.get("email"):this.loginForm.email="")},data:function(){return{submitDisabled:!1,loginForm:{email:"",password:"",status:"remember"}}},methods:{myBrowser:function(){var e=navigator.userAgent,t=e.indexOf("Opera")>-1,o=e.indexOf("Edge")>-1,i=e.indexOf("Firefox")>-1,s=e.indexOf("Safari")>-1&&-1==e.indexOf("Chrome"),a=e.indexOf("Chrome")>-1&&e.indexOf("Safari")>-1;t?this.$message({message:"Your browser may have incompatiblity issues with Trantrace. Please update to latest stable version of Google Chrome (>=70), Firefox (>=67), safari (>=12), Edge (>=18), IE (>=11).",type:"warning"}):o?e.match(/Edge\/([\d.]+)/)[1].split(".")[0]<18&&this.$alert("Your browser may have incompatiblity issues with Trantrace. Please update to latest stable version of Google Chrome (>=70), Firefox (>=67), safari (>=12), Edge (>=18), IE (>=11).",{type:"warning",confirmButtonText:"OK"}):i?e.match(/Firefox\/([\d.]+)/)[1].split(".")[0]<67&&this.$alert("Your browser may have incompatiblity issues with Trantrace. Please update to latest stable version of Google Chrome (>=70), Firefox (>=67), safari (>=12), Edge (>=18), IE (>=11).",{type:"warning",confirmButtonText:"OK"}):s?e.match(/Safari\/([\d.]+)/)[1].split(".")[0]<12&&this.$alert("Your browser may have incompatiblity issues with Trantrace. Please update to latest stable version of Google Chrome (>=70), Firefox (>=67), safari (>=12), Edge (>=18), IE (>=11).",{type:"warning",confirmButtonText:"OK"}):a?(e.match(/Chrome\/([\d.]+)/)||e.match(/CriOS\/([\d.]+)/))[1].split(".")[0]<70&&this.$alert("Your browser may have incompatiblity issues with Trantrace. Please update to latest stable version of Google Chrome (>=70), Firefox (>=67), safari (>=12), Edge (>=18), IE (>=11).",{type:"warning",confirmButtonText:"OK"}):window.navigator.userAgent.indexOf("MSIE")>=1?this.$alert("Your browser may have incompatiblity issues with Trantrace. Please update to latest stable version of Google Chrome (>=70), Firefox (>=67), safari (>=12), Edge (>=18), IE (>=11).",{type:"warning",confirmButtonText:"OK"}):window.ActiveXObject||"ActiveXObject"in window||this.$alert("Your browser may have incompatiblity issues with Trantrace. Please update to latest stable version of Google Chrome (>=70), Firefox (>=67), safari (>=12), Edge (>=18), IE (>=11).",{type:"warning",confirmButtonText:"OK"})},onSubmit:function(e){var t=this;e.preventDefault(),this.submitDisabled=!0,this.$http.post("/api/login",qs.stringify(this.loginForm)).then(function(e){e.data.success&&("remember"===t.loginForm.status?(t.$cookies.set("Authorization","Bearer "+e.data.success.token,43200),t.$cookies.set("email",t.loginForm.email,43200),t.$cookies.set("tname",Base64.encode(e.data.success.name),43200),t.$cookies.set("tp",Base64.encode(t.loginForm.password),43200),t.$cookies.set("loginStatus",t.loginForm.status,43200),t.$cookies.set("role",Base64.encode(e.data.success.role),43200),t.$cookies.set("id",Base64.encode(e.data.success.id),43200)):(t.$cookies.set("email",t.loginForm.email,43200),t.$cookies.set("tname",Base64.encode(e.data.success.name),43200),t.$cookies.set("Authorization","Bearer "+e.data.success.token,43200),t.$cookies.set("role",Base64.encode(e.data.success.role),43200),t.$cookies.set("id",Base64.encode(e.data.success.id),43200),t.$cookies.remove("tp"),t.$cookies.get("loginStatus")&&t.$cookies.remove("loginStatus")),t.$nextTick(function(){t.$http.defaults.headers.common.Authorization=t.$cookies.get("Authorization")||""}),2==e.data.success.role?t.$router.push("/userinfo"):t.$router.push("/dashboard")),t.submitDisabled=!1}).catch(function(e){t.submitDisabled=!1})},onReset:function(e){e.preventDefault(),this.loginForm.email="",this.loginForm.password=""}}}},agBk:function(e,t,o){var i=o("TEFh");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);o("rjj0")("6988a30d",i,!0,{})},syEo:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"login"}},[o("div",{attrs:{id:"formCon"}},[o("b-form",{attrs:{id:"loginForm"},on:{submit:e.onSubmit,reset:e.onReset}},[o("b-form-group",[o("b-link",[o("img",{attrs:{src:"/images/logo.png",title:"Trantrace",height:"50",width:"180",alt:"Trantrace Logo"}})]),e._v(" "),o("div",{staticClass:"modeTitle"},[e._v("Sign In")])],1),e._v(" "),o("b-form-group",{attrs:{label:"Email:","label-for":"emailLogin"}},[o("b-form-input",{attrs:{id:"emailLogin",required:"",oninvalid:"setCustomValidity('Email is required.');",oninput:"setCustomValidity('');",placeholder:"enter email",title:"Email is required."},model:{value:e.loginForm.email,callback:function(t){e.$set(e.loginForm,"email","string"==typeof t?t.trim():t)},expression:"loginForm.email"}})],1),e._v(" "),o("b-form-group",{attrs:{label:"Password:","label-for":"pwdLogin"}},[o("b-form-input",{attrs:{id:"pwdLogin",type:"password",required:"",oninvalid:"setCustomValidity('Password is required.');",oninput:"setCustomValidity('');",placeholder:"enter password",title:"Password is required."},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password","string"==typeof t?t.trim():t)},expression:"loginForm.password"}})],1),e._v(" "),o("b-form-group",[o("b-form-checkbox",{staticClass:"rememberStatus",attrs:{plain:"",id:"remembercheckbox",value:"remember","unchecked-value":"forget"},model:{value:e.loginForm.status,callback:function(t){e.$set(e.loginForm,"status","string"==typeof t?t.trim():t)},expression:"loginForm.status"}},[e._v("\n          Remember\n        ")]),e._v(" "),o("div",{staticClass:"formLink"},[o("b-link",{on:{click:function(t){t.preventDefault(),e.$router.push("/register")}}},[e._v("Sign Up")]),o("b-link",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.focus",modifiers:{focus:!0}}],attrs:{title:"Please contact administrator to reset your password."}},[e._v("Forgot password?")])],1)],1),e._v(" "),o("b-form-group",[o("b-button",{staticClass:"submitBtn",attrs:{type:"submit",variant:"info",disabled:e.submitDisabled}},[e._v("Sign In")]),e._v(" "),o("b-button",{staticClass:"resetBtn",attrs:{type:"reset"}},[e._v("Reset")])],1)],1)],1),e._v(" "),o("footer",[o("div",{staticClass:"sectionCenter"},[e._v("Copyright "+e._s((new Date).getFullYear()))])])])},staticRenderFns:[]}}});
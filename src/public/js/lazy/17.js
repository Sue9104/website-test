webpackJsonp([17],{Ox3G:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={mounted:function(){$("#formCon").get(0).style.minHeight=window.innerHeight-30+"px",$("#formCon").get(0).style.height=$("#register").height()+10+"px",window.onresize=function(){$("#formCon").get(0).style.minHeight=window.innerHeight-30+"px"},document.getElementById("agreeCheckbox").setCustomValidity(document.getElementById("agreeCheckbox").validity.valueMissing?"Please check this box if you want to proceed.":"")},data:function(){return{registerForm:{name:"",email:"",password:"",c_password:"",agree:""}}},computed:{registerDisabled:function(){return!(this.emailState&&this.nameState&&this.pwdState&&this.c_passwordState)},emailState:function(){return this.registerForm.email?!!/^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*\.[a-zA-Z0-9]{2,6}$/.test(this.registerForm.email):null},nameState:function(){return this.registerForm.name?!!/^[A-Za-z0-9-_.]{1,50}$/.test(this.registerForm.name):null},pwdState:function(){return this.registerForm.password?!(this.registerForm.password.length<6):null},c_passwordState:function(){return this.registerForm.c_password?this.registerForm.c_password===this.registerForm.password:null}},methods:{changeCheckbox:function(){document.getElementById("agreeCheckbox").setCustomValidity(document.getElementById("agreeCheckbox").validity.valueMissing?"Please check this box if you want to proceed.":"")},onSubmit:function(e){var t=this;e.preventDefault(),console.log(this.registerForm),this.$http.post("/api/register",qs.stringify(this.registerForm)).then(function(e){e.data.success.token&&(t.$cookies.set("Authorization","Bearer "+e.data.success.token,43200),t.$cookies.set("email",t.registerForm.email,43200),t.$cookies.set("tname",Base64.encode(e.data.success.name),43200),t.$cookies.set("tp",Base64.encode(t.registerForm.password),43200),t.$cookies.set("role",Base64.encode(e.data.success.role),43200),t.$cookies.set("id",Base64.encode(e.data.success.id),43200),t.$cookies.get("loginStatus")&&t.$cookies.remove("loginStatus"),t.$router.push("/dashboard")),t.$nextTick(function(){t.$http.defaults.headers.common.Authorization=t.$cookies.get("Authorization")||""})})}}}},SDXR:function(e,t,r){var s=r("tGpK");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);r("rjj0")("1c4d9aa2",s,!0,{})},ZTph:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"register"}},[r("div",{attrs:{id:"formCon"}},[r("b-form",{attrs:{id:"registerForm",method:"post"},on:{submit:e.onSubmit}},[r("b-form-group",[r("b-link",[r("img",{attrs:{src:"/images/logo.png",title:"Trantrace",height:"50",width:"180",alt:"Trantrace Logo"}})]),e._v(" "),r("div",{staticClass:"modeTitle"},[e._v("Sign Up")])],1),e._v(" "),r("b-form-group",{attrs:{label:"Email:","label-for":"emailRegister"}},[r("b-form-input",{attrs:{id:"emailRegister",type:"email",state:e.emailState,required:"",oninvalid:"setCustomValidity('Email is required.');",oninput:"setCustomValidity('');",placeholder:"enter Email",title:"Email is required."},model:{value:e.registerForm.email,callback:function(t){e.$set(e.registerForm,"email","string"==typeof t?t.trim():t)},expression:"registerForm.email"}}),e._v(" "),r("b-form-invalid-feedback",{attrs:{id:"emailRegisterFeedback"}},[e._v("\n          Email address is invalid.\n        ")])],1),e._v(" "),r("b-form-group",{attrs:{label:"User Name:","label-for":"nameRegister"}},[r("b-form-input",{attrs:{id:"nameRegister",state:e.nameState,required:"",oninvalid:"setCustomValidity('User Name is required.');",oninput:"setCustomValidity('');",placeholder:"enter user name",title:"User Name is required."},model:{value:e.registerForm.name,callback:function(t){e.$set(e.registerForm,"name","string"==typeof t?t.trim():t)},expression:"registerForm.name"}}),e._v(" "),r("b-form-invalid-feedback",{attrs:{id:"nameRegisterFeedback"}},[e._v("\n          Only letters (A-Za-z), numbers (0-9), dot (.), underscore (_), hyphen (-) are supported and maximum length is 50 characters.\n        ")])],1),e._v(" "),r("b-form-group",{attrs:{label:"Password:","label-for":"pwdRegister"}},[r("b-form-input",{attrs:{id:"pwdRegister",type:"password",state:e.pwdState,required:"",oninvalid:"setCustomValidity('Password is required.');",oninput:"setCustomValidity('');",placeholder:"enter password",title:"Password is required."},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password","string"==typeof t?t.trim():t)},expression:"registerForm.password"}}),e._v(" "),r("b-form-invalid-feedback",{attrs:{id:"pwdRegisterFeedback"}},[e._v("\n          Password length cannot be less than 6.\n        ")])],1),e._v(" "),r("b-form-group",{attrs:{label:"Repeat the password:","label-for":"c_pwdRegister"}},[r("b-form-input",{attrs:{type:"password",id:"c_pwdRegister",state:e.c_passwordState,required:"",oninvalid:"setCustomValidity('Repeat the password is required.');",oninput:"setCustomValidity('');",placeholder:"enter password again",title:"Repeat the password is required."},model:{value:e.registerForm.c_password,callback:function(t){e.$set(e.registerForm,"c_password","string"==typeof t?t.trim():t)},expression:"registerForm.c_password"}}),e._v(" "),r("b-form-invalid-feedback",{attrs:{id:"c_pwdRegisterFeedback"}},[e._v("\n          The passwords you typed do not match.\n        ")])],1),e._v(" "),r("b-form-group",[r("b-form-checkbox",{staticClass:"rememberStatus",attrs:{plain:"",id:"agreeCheckbox",value:"accepted","unchecked-value":"not_accepted",required:"",title:"Please check this box if you want to proceed."},on:{change:e.changeCheckbox},model:{value:e.registerForm.agree,callback:function(t){e.$set(e.registerForm,"agree","string"==typeof t?t.trim():t)},expression:"registerForm.agree"}},[e._v("\n          I accept \n          "),r("b-link",{staticClass:"userTerm",attrs:{href:"https://opensource.org/licenses/MIT",target:"_blank"}},[e._v("the Term of Service")]),e._v(".\n        ")],1),e._v(" "),r("div",{staticClass:"formLink"},[e._v("\n          Registered account?"),r("b-link",{on:{click:function(t){t.preventDefault(),e.$router.push("/login")}}},[e._v("Sign In")])],1)],1),e._v(" "),r("b-form-group",[r("b-button",{staticClass:"registerBtn",attrs:{type:"submit",variant:e.registerDisabled?"#aaa":"info",disabled:e.registerDisabled}},[e._v("Sign Up")])],1)],1)],1),e._v(" "),r("footer",[r("div",{staticClass:"sectionCenter"},[e._v("Copyright "+e._s((new Date).getFullYear()))])])])},staticRenderFns:[]}},tGpK:function(e,t,r){(e.exports=r("FZ+f")(!1)).push([e.i,"\n#emailRegister[data-v-5aa7ebe1],#nameRegister[data-v-5aa7ebe1],#pwdRegister[data-v-5aa7ebe1],#c_pwdRegister[data-v-5aa7ebe1]{outline:none\n}",""])},tef1:function(e,t,r){var s=r("VU/8")(r("Ox3G"),r("ZTph"),!1,function(e){r("SDXR")},"data-v-5aa7ebe1",null);e.exports=s.exports}});
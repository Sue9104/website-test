{"version":3,"sources":["webpack:///resources/assets/js/components/backStage/projectList/AddProject.vue","webpack:///./resources/assets/js/components/backStage/projectList/AddProject.vue","webpack:///./resources/assets/js/components/backStage/projectList/AddProject.vue?e223","webpack:///./resources/assets/js/components/backStage/projectList/AddProject.vue?d467","webpack:///./resources/assets/js/components/backStage/projectList/AddProject.vue?df99"],"names":["__webpack_exports__","mounted","_this","this","addProjectForm","product","$route","query","name","$http","post","then","response","data","forEach","item","status","userList","push","_this2","pickerOptions","disabledDate","date","valueOf","Date","now","attribute","priority","deadline","lang","slang","tlang","translate_users","approve_users","viewed_users","product_desc","rules","required","message","validator","rule","value","callback","test","length","Error","trigger","watch","addProjectForm.slang","handler","val","oldVal","deep","addProjectForm.tlang","addProjectForm.attribute","addProjectForm.translate_users","id","index","indexOf","addProjectForm.approve_users","addProjectForm.viewed_users","methods","changeUser","mode","list","_this3","item1","submitForm","formName","_this4","$refs","validate","valid","$notify","title","type","obj","JSON","stringify","qs","setTimeout","$router","resetForm","resetFields","Component","__webpack_require__","normalizeComponent","ssrContext","module","exports","content","i","locals","render","_vm","_h","$createElement","_c","_self","attrs","separator-class","to","path","_v","staticClass","ref","model","label-position","label-width","prop","label","placeholder","$$v","$set","trim","expression","staticStyle","width","default-value","value-format","picker-options","multiple","on","change","$event","_l","key","_e","disabled","click","staticRenderFns"],"mappings":"wGAmFAA,EAAA,SACAC,QADA,WACA,IAAAC,EAAAC,KACAA,KAAAC,eAAAC,QAAAF,KAAAG,OAAAC,MAAAC,MAAA,GACAL,KAAAM,MAAAC,KAAA,kBAAAC,KAAA,SAAAC,GAEAA,EAAAC,UAAAC,QAAA,SAAAC,GAEAA,EAAAC,OAAA,GACAd,EAAAe,SAAAC,KAAAH,QAKAF,KAbA,WAaA,IAAAM,EAAAhB,KA0BA,OACAiB,eACAC,aADA,SACAC,GAEA,OAAAA,KAAAC,WAAAC,KAAAC,QAGAR,YACAb,gBACAC,QAAA,GACAqB,UAAA,SACAC,SAAA,GACAC,SAAA,GACAC,KAAA,GACAC,MAAA,GACAC,MAAA,GACAC,mBACAC,iBACAC,gBACAC,aAAA,IAEAC,OACA/B,UAEAgC,UAAA,EACAC,QAAA,0BAEAC,UApDA,SAAAC,EAAAC,EAAAC,GAEA,iDACAC,KAAAF,GAEAA,EAAAG,OAAA,EACAF,EAAA,IAAAG,MAAA,kDACAJ,EAAAG,OAAA,GACAF,EAAA,IAAAG,MAAA,2CAEAH,IANAA,EAAA,IAAAG,MAAA,8CAgDAC,QAAA,SAEApB,YAEAW,UAAA,EACAC,QAAA,4BAGAX,WAEAU,UAAA,EACAC,QAAA,2BAGAT,OAEAQ,UAAA,EACAC,QAAA,4BAEAC,UA1DA,SAAAC,EAAAC,EAAAC,GAEA,KAAAvB,EAAAf,eAAA0B,MACAY,EAAA,IAAAG,MAAA,mCACA,KAAA1B,EAAAf,eAAA2B,MACAW,EAAA,IAAAG,MAAA,mCACA1B,EAAAf,eAAA0B,QAAAX,EAAAf,eAAA2B,MACAW,EAAA,IAAAG,MAAA,mEAEAH,KAiDAI,QAAA,SAEAlB,WAEAS,UAAA,EACAC,QAAA,4BAGAN,kBAEAK,UAAA,EACAC,QAAA,6BAGAL,gBAEAI,UAAA,EACAC,QAAA,8BAMAS,OACAC,wBACAC,QADA,SACAC,EAAAC,GACAhD,KAAAC,eAAAyB,KAAA1B,KAAAC,eAAA0B,MAAA,KAAA3B,KAAAC,eAAA2B,OAEAqB,MAAA,GAEAC,wBACAJ,QADA,SACAC,EAAAC,GACAhD,KAAAC,eAAAyB,KAAA1B,KAAAC,eAAA0B,MAAA,KAAA3B,KAAAC,eAAA2B,OAEAqB,MAAA,GAEAE,4BACAL,QADA,SACAC,EAAAC,GACA,WAAAD,IAAA/C,KAAAC,eAAA8B,kBAEAkB,MAAA,GAEAG,kCACAN,QADA,SACAC,EAAAC,GAGA,GAAAD,EAAAN,OAAAO,EAAAP,OACAzC,KAAAc,SAAAH,QAAA,SAAAC,GACAmC,EAAAN,OAAA,KAAA7B,EAAAyC,KACAzC,EAAAC,OAAA,WAGA,CAEA,IAAAwC,OAAA,EACAL,EAAArC,QAAA,SAAAC,EAAA0C,GACAP,EAAAQ,QAAA3C,GAAA,IAAAyC,EAAAzC,KAGAZ,KAAAc,SAAAH,QAAA,SAAAC,GACAyC,IAAAzC,EAAAyC,KACAzC,EAAAC,OAAA,QAKAoC,MAAA,GAEAO,gCACAV,QADA,SACAC,EAAAC,GAGA,GAAAD,EAAAN,OAAAO,EAAAP,OACAzC,KAAAc,SAAAH,QAAA,SAAAC,GACAmC,EAAAN,OAAA,KAAA7B,EAAAyC,KACAzC,EAAAC,OAAA,WAGA,CAEA,IAAAwC,OAAA,EACAL,EAAArC,QAAA,SAAAC,EAAA0C,GACAP,EAAAQ,QAAA3C,GAAA,IAAAyC,EAAAzC,KAGAZ,KAAAc,SAAAH,QAAA,SAAAC,GACAyC,IAAAzC,EAAAyC,KACAzC,EAAAC,OAAA,QAMAoC,MAAA,GAEAQ,+BACAX,QADA,SACAC,EAAAC,GAGA,GAAAD,EAAAN,OAAAO,EAAAP,OACAzC,KAAAc,SAAAH,QAAA,SAAAC,GACAmC,EAAAN,OAAA,KAAA7B,EAAAyC,KACAzC,EAAAC,OAAA,WAGA,CAEA,IAAAwC,OAAA,EACAL,EAAArC,QAAA,SAAAC,EAAA0C,GACAP,EAAAQ,QAAA3C,GAAA,IAAAyC,EAAAzC,KAGAZ,KAAAc,SAAAH,QAAA,SAAAC,GACAyC,IAAAzC,EAAAyC,KACAzC,EAAAC,OAAA,QAMAoC,MAAA,IAGAS,SACAC,WADA,SACAC,EAAAC,GAAA,IAAAC,EAAA9D,KACA,OAAA4D,GACA,QACAC,EAAAlD,QAAA,SAAAC,GACAkD,EAAAhD,SAAAH,QAAA,SAAAoD,GACAnD,IAAAmD,EAAAV,KACAU,EAAAlD,OAAA,SAIA,MACA,QACAgD,EAAAlD,QAAA,SAAAC,GACAkD,EAAAhD,SAAAH,QAAA,SAAAoD,GACAnD,IAAAmD,EAAAV,KACAU,EAAAlD,OAAA,SAIA,MACA,QACAgD,EAAAlD,QAAA,SAAAC,GACAkD,EAAAhD,SAAAH,QAAA,SAAAoD,GACAnD,IAAAmD,EAAAV,KACAU,EAAAlD,OAAA,WAOAmD,WAhCA,SAgCAC,GAAA,IAAAC,EAAAlE,KACAA,KAAAmE,MAAAF,GAAAG,SAAA,SAAAC,GAEA,IAAAA,EAyBA,OALAH,EAAAI,SACAC,MAAA,SACApC,QAAA,kDACAqC,KAAA,aAEA,EAxBA,IAAAC,GACAvE,QAAAgE,EAAAjE,eAAAC,QACAqB,UAAA2C,EAAAjE,eAAAsB,UACAC,SAAA0C,EAAAjE,eAAAuB,SACAE,KAAAwC,EAAAjE,eAAA0B,MAAA,KAAAuC,EAAAjE,eAAA2B,MACAC,gBAAA6C,KAAAC,UAAAT,EAAAjE,eAAA4B,iBACAC,cAAA4C,KAAAC,UAAAT,EAAAjE,eAAA6B,eACAC,aAAA2C,KAAAC,UAAAT,EAAAjE,eAAA8B,cACAN,SAAAyC,EAAAjE,eAAAwB,SACAO,aAAAkC,EAAAjE,eAAA+B,cAGAkC,EAAA5D,MAAAC,KAAA,sBAAAqE,GAAAD,UAAAF,IAAAjE,KAAA,SAAAC,GACAoE,WAAA,WACAX,EAAAY,QAAA/D,KAAA,iBACA,WAaAgE,UAhEA,SAgEAd,GACAjE,KAAAmE,MAAAF,GAAAe,uCCjWA,IAaAC,EAbAC,EAAA,OAaAC,CAXAD,EAAA,QAEAA,EAAA,SAEA,EATA,SAAAE,GACAF,EAAA,SAYA,kBAEA,MAUAG,EAAAC,QAAAL,EAAAK,8BCtBA,IAAAC,EAAAL,EAAA,QACA,iBAAAK,QAAAF,EAAAG,EAAAD,EAAA,MACAA,EAAAE,SAAAJ,EAAAC,QAAAC,EAAAE,QAEAP,EAAA,OAAAA,CAAA,WAAAK,GAAA,0BCLAF,EAAAC,SAAkBI,OAFlB,WAA0B,IAAAC,EAAA3F,KAAa4F,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,OAAO3C,GAAA,oBAAuByC,EAAA,iBAAsBE,OAAOC,kBAAA,yBAAyCH,EAAA,sBAA2BE,OAAOE,IAAMC,KAAA,mBAAyBR,EAAAS,GAAA,kBAAAT,EAAAS,GAAA,KAAAN,EAAA,sBAAAH,EAAAS,GAAA,yBAAAT,EAAAS,GAAA,KAAAN,EAAA,OAAsHO,YAAA,WAAAL,OAA8B3C,GAAA,sBAAyByC,EAAA,WAAgBQ,IAAA,iBAAAN,OAA4BO,MAAAZ,EAAA1F,eAAAgC,MAAA0D,EAAA1D,MAAAuE,iBAAA,OAAAC,cAAA,WAA4FX,EAAA,gBAAqBE,OAAOU,KAAA,UAAAC,MAAA,kBAAyCb,EAAA,OAAYO,YAAA,eAAyBP,EAAA,YAAiBE,OAAOY,YAAA,6BAA0CL,OAAQjE,MAAAqD,EAAA1F,eAAA,QAAAsC,SAAA,SAAAsE,GAA4DlB,EAAAmB,KAAAnB,EAAA1F,eAAA,2BAAA4G,IAAAE,OAAAF,IAAoFG,WAAA,6BAAsC,KAAArB,EAAAS,GAAA,KAAAN,EAAA,gBAAuCE,OAAOU,KAAA,YAAAC,MAAA,eAAwCb,EAAA,OAAYO,YAAA,eAAyBP,EAAA,kBAAuBS,OAAOjE,MAAAqD,EAAA1F,eAAA,UAAAsC,SAAA,SAAAsE,GAA8DlB,EAAAmB,KAAAnB,EAAA1F,eAAA,YAAA4G,IAA+CG,WAAA,8BAAwClB,EAAA,YAAiBE,OAAOW,MAAA,YAAkBhB,EAAAS,GAAA,YAAAT,EAAAS,GAAA,KAAAN,EAAA,YAAgDE,OAAOW,MAAA,aAAmBhB,EAAAS,GAAA,uBAAAT,EAAAS,GAAA,KAAAN,EAAA,gBAA+DE,OAAOU,KAAA,WAAAC,MAAA,cAAsCb,EAAA,OAAYO,YAAA,eAAyBP,EAAA,aAAkBE,OAAOY,YAAA,0BAAuCL,OAAQjE,MAAAqD,EAAA1F,eAAA,SAAAsC,SAAA,SAAAsE,GAA6DlB,EAAAmB,KAAAnB,EAAA1F,eAAA,WAAA4G,IAA8CG,WAAA,6BAAuClB,EAAA,aAAkBE,OAAOW,MAAA,OAAArE,MAAA,OAA4BqD,EAAAS,GAAA,KAAAN,EAAA,aAA8BE,OAAOW,MAAA,SAAArE,MAAA,OAA8BqD,EAAAS,GAAA,KAAAN,EAAA,aAA8BE,OAAOW,MAAA,MAAArE,MAAA,QAA2B,SAAAqD,EAAAS,GAAA,KAAAN,EAAA,gBAA2CE,OAAOU,KAAA,OAAAC,MAAA,cAAkCb,EAAA,OAAYO,YAAA,eAAyBP,EAAA,aAAkBmB,aAAaC,MAAA,OAAclB,OAAQY,YAAA,mBAAgCL,OAAQjE,MAAAqD,EAAA1F,eAAA,MAAAsC,SAAA,SAAAsE,GAA0DlB,EAAAmB,KAAAnB,EAAA1F,eAAA,QAAA4G,IAA2CG,WAAA,0BAAoClB,EAAA,aAAkBE,OAAOW,MAAA,QAAArE,MAAA,WAAiCqD,EAAAS,GAAA,KAAAN,EAAA,aAA8BE,OAAOW,MAAA,KAAArE,MAAA,SAA2B,GAAAqD,EAAAS,GAAA,KAAAN,EAAA,aAAkCmB,aAAaC,MAAA,OAAclB,OAAQY,YAAA,mBAAgCL,OAAQjE,MAAAqD,EAAA1F,eAAA,MAAAsC,SAAA,SAAAsE,GAA0DlB,EAAAmB,KAAAnB,EAAA1F,eAAA,QAAA4G,IAA2CG,WAAA,0BAAoClB,EAAA,aAAkBE,OAAOW,MAAA,QAAArE,MAAA,WAAiCqD,EAAAS,GAAA,KAAAN,EAAA,aAA8BE,OAAOW,MAAA,KAAArE,MAAA,SAA2B,SAAAqD,EAAAS,GAAA,KAAAN,EAAA,gBAA2CE,OAAOW,MAAA,WAAAD,KAAA,cAAsCZ,EAAA,OAAYO,YAAA,eAAyBP,EAAA,kBAAuBE,OAAOxB,KAAA,OAAA2C,gBAAA,IAAA9F,KAAA+F,eAAA,aAAAC,iBAAA1B,EAAA1E,cAAA2F,YAAA,0BAA+IL,OAAQjE,MAAAqD,EAAA1F,eAAA,SAAAsC,SAAA,SAAAsE,GAA6DlB,EAAAmB,KAAAnB,EAAA1F,eAAA,4BAAA4G,IAAAE,OAAAF,IAAqFG,WAAA,8BAAuC,KAAArB,EAAAS,GAAA,KAAAN,EAAA,gBAAuCE,OAAOU,KAAA,kBAAAC,MAAA,gBAA+Cb,EAAA,OAAYO,YAAA,eAAyBP,EAAA,aAAkBE,OAAOY,YAAA,2BAAAU,SAAA,IAAuDC,IAAKC,OAAA,SAAAC,GAA0B9B,EAAAhC,WAAA,IAAA8D,KAA4BlB,OAAQjE,MAAAqD,EAAA1F,eAAA,gBAAAsC,SAAA,SAAAsE,GAAoElB,EAAAmB,KAAAnB,EAAA1F,eAAA,kBAAA4G,IAAqDG,WAAA,mCAA8CrB,EAAA+B,GAAA/B,EAAA,kBAAA/E,EAAA0C,GAA4C,YAAA1C,EAAAC,QAAA,KAAAD,EAAAC,OAAAiF,EAAA,aAA6D6B,IAAA,aAAArE,EAAA0C,OAA8BW,MAAA/F,EAAAP,KAAAiC,MAAA1B,EAAAyC,MAAmCsC,EAAAiC,SAAW,KAAAjC,EAAAS,GAAA,KAAAN,EAAA,gBAAwCE,OAAOU,KAAA,gBAAAC,MAAA,cAA2Cb,EAAA,OAAYO,YAAA,eAAyBP,EAAA,aAAkBE,OAAOY,YAAA,yBAAAU,SAAA,IAAqDC,IAAKC,OAAA,SAAAC,GAA0B9B,EAAAhC,WAAA,IAAA8D,KAA4BlB,OAAQjE,MAAAqD,EAAA1F,eAAA,cAAAsC,SAAA,SAAAsE,GAAkElB,EAAAmB,KAAAnB,EAAA1F,eAAA,gBAAA4G,IAAmDG,WAAA,iCAA4CrB,EAAA+B,GAAA/B,EAAA,kBAAA/E,EAAA0C,GAA4C,YAAA1C,EAAAC,QAAA,KAAAD,EAAAC,OAAAiF,EAAA,aAA6D6B,IAAA,WAAArE,EAAA0C,OAA4BW,MAAA/F,EAAAP,KAAAiC,MAAA1B,EAAAyC,MAAmCsC,EAAAiC,SAAW,KAAAjC,EAAAS,GAAA,KAAAN,EAAA,gBAAwCE,OAAOW,MAAA,YAAkBb,EAAA,OAAYO,YAAA,eAAyBP,EAAA,aAAkBE,OAAOY,YAAA,uBAAAU,SAAA,GAAAO,SAAA,WAAAlC,EAAA1F,eAAAsB,WAAsGgG,IAAKC,OAAA,SAAAC,GAA0B9B,EAAAhC,WAAA,IAAA8D,KAA4BlB,OAAQjE,MAAAqD,EAAA1F,eAAA,aAAAsC,SAAA,SAAAsE,GAAiElB,EAAAmB,KAAAnB,EAAA1F,eAAA,eAAA4G,IAAkDG,WAAA,gCAA2CrB,EAAA+B,GAAA/B,EAAA,kBAAA/E,EAAA0C,GAA4C,YAAA1C,EAAAC,QAAA,KAAAD,EAAAC,OAAAiF,EAAA,aAA6D6B,IAAA,SAAArE,EAAA0C,OAA0BW,MAAA/F,EAAAP,KAAAiC,MAAA1B,EAAAyC,MAAmCsC,EAAAiC,SAAW,KAAAjC,EAAAS,GAAA,KAAAN,EAAA,gBAAwCE,OAAOU,KAAA,eAAAC,MAAA,iBAA6Cb,EAAA,OAAYO,YAAA,eAAyBP,EAAA,YAAiBE,OAAOxB,KAAA,WAAAoC,YAAA,uCAAsEL,OAAQjE,MAAAqD,EAAA1F,eAAA,aAAAsC,SAAA,SAAAsE,GAAiElB,EAAAmB,KAAAnB,EAAA1F,eAAA,gCAAA4G,IAAAE,OAAAF,IAAyFG,WAAA,kCAA2C,KAAArB,EAAAS,GAAA,KAAAN,EAAA,gBAAAA,EAAA,aAAuDE,OAAOxB,KAAA,WAAiB+C,IAAKO,MAAA,SAAAL,GAAyB9B,EAAA3B,WAAA,sBAAmC2B,EAAAS,GAAA,SAAAT,EAAAS,GAAA,KAAAN,EAAA,aAA8CyB,IAAIO,MAAA,SAAAL,GAAyB9B,EAAAZ,UAAA,sBAAkCY,EAAAS,GAAA,4BAE1oL2B,2CCFlB1C,EAAAC,QAAAJ,EAAA,OAAAA,EAAA,IAKAnE,MAAAsE,EAAAG,EAAA","file":"js/lazy/12.js","sourcesContent":["<template>\r\n  <div id=\"addProjectMain\">\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/projectlist' }\">Project List</el-breadcrumb-item>\r\n      <el-breadcrumb-item>Add New Project</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <div id=\"addProjectDetail\" class=\"clearfix\">\r\n      <el-form :model=\"addProjectForm\" :rules=\"rules\" ref=\"addProjectForm\" label-position=\"left\" label-width=\"120px\">\r\n        <el-form-item prop=\"product\" label=\"Project Name\">\r\n          <div class=\"namePwdInp\">\r\n            <el-input v-model.trim=\"addProjectForm.product\" placeholder=\"please enter project name\"></el-input>\r\n          </div>\r\n        </el-form-item>\r\n        <el-form-item prop=\"attribute\" label=\"Attribute\">\r\n          <div class=\"namePwdInp\">\r\n            <el-radio-group v-model=\"addProjectForm.attribute\">\r\n              <el-radio label=\"public\">Public</el-radio>\r\n              <el-radio label=\"private\">Private</el-radio>\r\n            </el-radio-group>\r\n          </div>\r\n        </el-form-item>\r\n        <el-form-item prop=\"priority\" label=\"Priority\">\r\n          <div class=\"namePwdInp\">\r\n            <el-select v-model=\"addProjectForm.priority\" placeholder=\"please select priority\">\r\n              <el-option label=\"High\" value=\"3\"></el-option>\r\n              <el-option label=\"Normal\" value=\"2\"></el-option>\r\n              <el-option label=\"Low\" value=\"1\"></el-option>\r\n            </el-select>\r\n          </div>\r\n        </el-form-item>\r\n        <el-form-item prop=\"lang\" label=\"Language\">\r\n          <div class=\"namePwdInp\">\r\n            <el-select v-model=\"addProjectForm.slang\" style=\"width:49%\" placeholder=\"source language\">\r\n              <el-option label=\"ZH-CN\" value=\"ZH-CN\"></el-option>\r\n              <el-option label=\"EN\" value=\"EN\"></el-option>\r\n            </el-select>\r\n            <el-select v-model=\"addProjectForm.tlang\" style=\"width:49%\" placeholder=\"target language\">\r\n              <el-option label=\"ZH-CN\" value=\"ZH-CN\"></el-option>\r\n              <el-option label=\"EN\" value=\"EN\"></el-option>\r\n            </el-select>\r\n          </div>\r\n        </el-form-item>\r\n        <el-form-item label=\"Deadline\" prop=\"deadline\">\r\n          <div class=\"namePwdInp\">\r\n            <el-date-picker v-model.trim=\"addProjectForm.deadline\" type=\"date\" :default-value=\"new Date()\" value-format=\"yyyy-MM-dd\" :picker-options=\"pickerOptions\" placeholder=\"please select deadline\"></el-date-picker>\r\n          </div>\r\n        </el-form-item>\r\n        <el-form-item prop=\"translate_users\" label=\"Translator\">\r\n          <div class=\"namePwdInp\">\r\n            <el-select v-model=\"addProjectForm.translate_users\" placeholder=\"please select translator\" multiple @change=\"changeUser('t',$event)\">\r\n              <el-option v-for=\"(item,index) in userList\" :key=\"'Translator'+index\" :label=\"item.name\" :value=\"item.id\" v-if=\"item.status==='t'||item.status===''\"></el-option>\r\n            </el-select>\r\n          </div>\r\n        </el-form-item>\r\n        <el-form-item prop=\"approve_users\" label=\"Approver\">\r\n          <div class=\"namePwdInp\">\r\n            <el-select v-model=\"addProjectForm.approve_users\" placeholder=\"please select approver\" multiple @change=\"changeUser('a',$event)\">\r\n              <el-option v-for=\"(item,index) in userList\" :key=\"'approver'+index\" :label=\"item.name\" :value=\"item.id\" v-if=\"item.status==='a'||item.status===''\"></el-option>\r\n            </el-select>\r\n          </div>\r\n        </el-form-item>\r\n        <el-form-item label=\"Viewer\">\r\n          <div class=\"namePwdInp\">\r\n            <el-select v-model=\"addProjectForm.viewed_users\" placeholder=\"please select viewer\" multiple :disabled=\"addProjectForm.attribute==='public'\" @change=\"changeUser('v',$event)\">\r\n              <el-option v-for=\"(item,index) in userList\" :key=\"'Viewer'+index\" :label=\"item.name\" :value=\"item.id\" v-if=\"item.status==='v'||item.status===''\"></el-option>\r\n            </el-select>\r\n          </div>\r\n        </el-form-item>\r\n        <el-form-item prop=\"product_desc\" label=\"Description\">\r\n          <div class=\"namePwdInp\">\r\n            <el-input type=\"textarea\" v-model.trim=\"addProjectForm.product_desc\" placeholder=\"please enter description of product\"></el-input>\r\n          </div>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"submitForm('addProjectForm')\">Add</el-button>\r\n          <el-button @click=\"resetForm('addProjectForm')\">Reset</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  mounted() {\r\n    this.addProjectForm.product=this.$route.query.name||''\r\n    this.$http.post(\"/api/user/list\").then(response=>{\r\n      // console.log(response.data);\r\n      response.data.data.forEach(item=>{\r\n        // item.mode='unSelect'\r\n        item.status = ''\r\n        this.userList.push(item)\r\n      })\r\n      \r\n    })\r\n  },\r\n  data() {\r\n    const validateProject = (rule,value,callback)=>{\r\n      // console.log(this)\r\n      let nameReg =  /^[A-Za-z0-9']{2,20}$|^[\\u4e00-\\u9fa5.']{2,20}$/;\r\n      if(!nameReg.test(value)){\r\n        callback(new Error(\"Supports Chinese, English, Number, etc.)\"));\r\n      }else if(value.length<2){\r\n        callback(new Error(\"Cannot be less than two characters in length.\"));\r\n      }else if(value.length>20){\r\n        callback(new Error(\"Cannot exceed 20 characters in length.\"));\r\n      }else{\r\n        callback()\r\n      }\r\n    }\r\n    const validateLang = (rule,value,callback)=>{\r\n      // console.log(this)\r\n      if(this.addProjectForm.slang===''){\r\n        callback(new Error(\"Please select source language.\"));\r\n      }else if(this.addProjectForm.tlang===''){\r\n        callback(new Error(\"Please select target language.\"));\r\n      }else if(this.addProjectForm.slang===this.addProjectForm.tlang){\r\n        callback(new Error(\"The source language cannot be the same as the target language.\"));\r\n      }else{\r\n        callback();\r\n      }\r\n    }\r\n    return {\r\n      pickerOptions:{\r\n        disabledDate(date){\r\n          // console.log(date)\r\n          return date && date.valueOf() <= Date.now();\r\n        }\r\n      },\r\n      userList:[],\r\n      addProjectForm: {\r\n        product: '',\r\n        attribute:'public',\r\n        priority:'',\r\n        deadline:'',\r\n        lang:'',\r\n        slang:'',\r\n        tlang:'',\r\n        translate_users:[],\r\n        approve_users:[],\r\n        viewed_users:[],\r\n        product_desc:''\r\n      },\r\n      rules: {\r\n        product: [\r\n          {\r\n            required: true,\r\n            message: 'Please enter product.'\r\n          },\r\n          {validator:validateProject,trigger:'blur'}\r\n        ],\r\n        attribute: [\r\n          {\r\n            required: true,\r\n            message: 'Please enter attribute.'\r\n          }\r\n        ],\r\n        priority: [\r\n          {\r\n            required: true,\r\n            message: 'Please enter priority.'\r\n          }\r\n        ],\r\n        lang: [\r\n          {\r\n            required: true,\r\n            message: 'Please select language.'\r\n          },\r\n          {validator:validateLang,trigger:'blur'}\r\n        ],\r\n        deadline: [\r\n          {\r\n            required: true,\r\n            message: 'Please select deadline.'\r\n          }\r\n        ],\r\n        translate_users: [\r\n          {\r\n            required: true,\r\n            message: 'Please enter translator.'\r\n          }\r\n        ],\r\n        approve_users: [\r\n          {\r\n            required: true,\r\n            message: 'Please enter approver.'\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  watch:{\r\n    'addProjectForm.slang':{\r\n      handler(val,oldVal){\r\n        this.addProjectForm.lang = this.addProjectForm.slang+'->'+this.addProjectForm.tlang\r\n      },\r\n      deep:true\r\n    },\r\n    'addProjectForm.tlang':{\r\n      handler(val,oldVal){\r\n        this.addProjectForm.lang = this.addProjectForm.slang+'->'+this.addProjectForm.tlang\r\n      },\r\n      deep:true\r\n    },\r\n    'addProjectForm.attribute':{\r\n      handler(val,oldVal){\r\n        val==='public'?this.addProjectForm.viewed_users = []:null\r\n      },\r\n      deep:true\r\n    },\r\n    'addProjectForm.translate_users':{\r\n      handler(val,oldVal){\r\n        // console.log(val,oldVal);\r\n        //增加\r\n        if(val.length>oldVal.length){\r\n          this.userList.forEach(item=>{\r\n            if(val[length-1]===item.id){\r\n              item.status='t'\r\n            }\r\n          })\r\n        }else{ //减少\r\n          //找出减少的哪个id\r\n          let id ;\r\n          oldVal.forEach((item,index)=>{\r\n            val.indexOf(item)<0?id = item:null\r\n          })\r\n          // console.log(id);\r\n          this.userList.forEach(item=>{\r\n            if(id===item.id){\r\n              item.status=''\r\n            }\r\n          })\r\n        }\r\n      },\r\n      deep:true\r\n    },\r\n    'addProjectForm.approve_users':{\r\n      handler(val,oldVal){\r\n        // console.log(val);\r\n        //增加\r\n        if(val.length>oldVal.length){\r\n          this.userList.forEach(item=>{\r\n            if(val[length-1]===item.id){\r\n              item.status='a'\r\n            }\r\n          })\r\n        }else{ //减少\r\n          //找出减少的哪个id\r\n          let id ;\r\n          oldVal.forEach((item,index)=>{\r\n            val.indexOf(item)<0?id = item:null\r\n          })\r\n          // console.log(id);\r\n          this.userList.forEach(item=>{\r\n            if(id===item.id){\r\n              item.status=''\r\n            }\r\n          })\r\n        }\r\n\r\n      },\r\n      deep:true\r\n    },\r\n    'addProjectForm.viewed_users':{\r\n      handler(val,oldVal){\r\n        // console.log(val);\r\n        //增加\r\n        if(val.length>oldVal.length){\r\n          this.userList.forEach(item=>{\r\n            if(val[length-1]===item.id){\r\n              item.status='v'\r\n            }\r\n          })\r\n        }else{ //减少\r\n          //找出减少的哪个id\r\n          let id ;\r\n          oldVal.forEach((item,index)=>{\r\n            val.indexOf(item)<0?id = item:null\r\n          })\r\n          // console.log(id);\r\n          this.userList.forEach(item=>{\r\n            if(id===item.id){\r\n              item.status=''\r\n            }\r\n          })\r\n        }\r\n\r\n      },\r\n      deep:true\r\n    }\r\n  },\r\n  methods: {\r\n    changeUser(mode,list){\r\n      switch(mode){\r\n        case 't':\r\n          list.forEach(item=>{\r\n            this.userList.forEach(item1=>{\r\n              if(item===item1.id){\r\n                item1.status='t'\r\n              }\r\n            })\r\n          })\r\n        break;\r\n        case 'a':\r\n          list.forEach(item=>{\r\n            this.userList.forEach(item1=>{\r\n              if(item===item1.id){\r\n                item1.status='a'\r\n              }\r\n            })\r\n          })\r\n        break;\r\n        case 'v':\r\n          list.forEach(item=>{\r\n            this.userList.forEach(item1=>{\r\n              if(item===item1.id){\r\n                item1.status='v'\r\n              }\r\n            })\r\n          })\r\n        break;\r\n      }\r\n    },\r\n    submitForm(formName) {\r\n      this.$refs[formName].validate(valid => {\r\n        // console.log(this.addProjectForm);\r\n        if (valid) {\r\n          let obj = {\r\n            product:this.addProjectForm.product,\r\n            attribute:this.addProjectForm.attribute,\r\n            priority:this.addProjectForm.priority,\r\n            lang:this.addProjectForm.slang+'->'+this.addProjectForm.tlang,\r\n            translate_users:JSON.stringify(this.addProjectForm.translate_users),\r\n            approve_users:JSON.stringify(this.addProjectForm.approve_users),\r\n            viewed_users:JSON.stringify(this.addProjectForm.viewed_users),\r\n            deadline:this.addProjectForm.deadline,\r\n            product_desc:this.addProjectForm.product_desc\r\n          }\r\n          // console.log(obj);\r\n          this.$http.post(\"/api/product/create\",qs.stringify(obj)).then(response=>{\r\n            setTimeout(()=>{\r\n              this.$router.push('/projectlist')\r\n            },1500)\r\n          })\r\n        } else {\r\n          // console.log('error submit!!')\r\n          this.$notify({\r\n            title: 'Notice',\r\n            message: 'Please check if the form is filled in correctly',\r\n            type: 'warning'\r\n          })\r\n          return false\r\n        }\r\n      })\r\n    },\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields()\r\n    }\r\n  },\r\n  \r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\r\n</style>\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// resources/assets/js/components/backStage/projectList/AddProject.vue","function injectStyle (ssrContext) {\n  require(\"!!vue-style-loader!css-loader?minimize!../../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-111b4c3a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!less-loader!../../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AddProject.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nvar __vue_script__ = require(\"!!babel-loader?{\\\"cacheDirectory\\\":true,\\\"presets\\\":[[\\\"env\\\",{\\\"modules\\\":false,\\\"targets\\\":{\\\"browsers\\\":[\\\"> 2%\\\"],\\\"uglify\\\":true}}]],\\\"plugins\\\":[\\\"transform-object-rest-spread\\\",[\\\"transform-runtime\\\",{\\\"polyfill\\\":false,\\\"helpers\\\":false}],\\\"syntax-dynamic-import\\\",[\\\"import\\\",{\\\"libraryName\\\":\\\"iview\\\",\\\"libraryDirectory\\\":\\\"src/components\\\"}]]}!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddProject.vue\")\n/* template */\nvar __vue_template__ = require(\"!!../../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-111b4c3a\\\",\\\"hasScoped\\\":true,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./AddProject.vue\")\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-111b4c3a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./resources/assets/js/components/backStage/projectList/AddProject.vue\n// module id = JZsY\n// module chunks = 12","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/css-loader/index.js?minimize!../../../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-111b4c3a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../../../../../node_modules/less-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./AddProject.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"7f0a36b9\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader!./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-111b4c3a\",\"scoped\":true,\"hasInlineConfig\":true}!./node_modules/less-loader/dist/cjs.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./resources/assets/js/components/backStage/projectList/AddProject.vue\n// module id = OGCx\n// module chunks = 12","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"addProjectMain\"}},[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/projectlist' }}},[_vm._v(\"Project List\")]),_vm._v(\" \"),_c('el-breadcrumb-item',[_vm._v(\"Add New Project\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"clearfix\",attrs:{\"id\":\"addProjectDetail\"}},[_c('el-form',{ref:\"addProjectForm\",attrs:{\"model\":_vm.addProjectForm,\"rules\":_vm.rules,\"label-position\":\"left\",\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"prop\":\"product\",\"label\":\"Project Name\"}},[_c('div',{staticClass:\"namePwdInp\"},[_c('el-input',{attrs:{\"placeholder\":\"please enter project name\"},model:{value:(_vm.addProjectForm.product),callback:function ($$v) {_vm.$set(_vm.addProjectForm, \"product\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"addProjectForm.product\"}})],1)]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"attribute\",\"label\":\"Attribute\"}},[_c('div',{staticClass:\"namePwdInp\"},[_c('el-radio-group',{model:{value:(_vm.addProjectForm.attribute),callback:function ($$v) {_vm.$set(_vm.addProjectForm, \"attribute\", $$v)},expression:\"addProjectForm.attribute\"}},[_c('el-radio',{attrs:{\"label\":\"public\"}},[_vm._v(\"Public\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"private\"}},[_vm._v(\"Private\")])],1)],1)]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"priority\",\"label\":\"Priority\"}},[_c('div',{staticClass:\"namePwdInp\"},[_c('el-select',{attrs:{\"placeholder\":\"please select priority\"},model:{value:(_vm.addProjectForm.priority),callback:function ($$v) {_vm.$set(_vm.addProjectForm, \"priority\", $$v)},expression:\"addProjectForm.priority\"}},[_c('el-option',{attrs:{\"label\":\"High\",\"value\":\"3\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"Normal\",\"value\":\"2\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"Low\",\"value\":\"1\"}})],1)],1)]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"lang\",\"label\":\"Language\"}},[_c('div',{staticClass:\"namePwdInp\"},[_c('el-select',{staticStyle:{\"width\":\"49%\"},attrs:{\"placeholder\":\"source language\"},model:{value:(_vm.addProjectForm.slang),callback:function ($$v) {_vm.$set(_vm.addProjectForm, \"slang\", $$v)},expression:\"addProjectForm.slang\"}},[_c('el-option',{attrs:{\"label\":\"ZH-CN\",\"value\":\"ZH-CN\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"EN\",\"value\":\"EN\"}})],1),_vm._v(\" \"),_c('el-select',{staticStyle:{\"width\":\"49%\"},attrs:{\"placeholder\":\"target language\"},model:{value:(_vm.addProjectForm.tlang),callback:function ($$v) {_vm.$set(_vm.addProjectForm, \"tlang\", $$v)},expression:\"addProjectForm.tlang\"}},[_c('el-option',{attrs:{\"label\":\"ZH-CN\",\"value\":\"ZH-CN\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"EN\",\"value\":\"EN\"}})],1)],1)]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Deadline\",\"prop\":\"deadline\"}},[_c('div',{staticClass:\"namePwdInp\"},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"default-value\":new Date(),\"value-format\":\"yyyy-MM-dd\",\"picker-options\":_vm.pickerOptions,\"placeholder\":\"please select deadline\"},model:{value:(_vm.addProjectForm.deadline),callback:function ($$v) {_vm.$set(_vm.addProjectForm, \"deadline\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"addProjectForm.deadline\"}})],1)]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"translate_users\",\"label\":\"Translator\"}},[_c('div',{staticClass:\"namePwdInp\"},[_c('el-select',{attrs:{\"placeholder\":\"please select translator\",\"multiple\":\"\"},on:{\"change\":function($event){_vm.changeUser('t',$event)}},model:{value:(_vm.addProjectForm.translate_users),callback:function ($$v) {_vm.$set(_vm.addProjectForm, \"translate_users\", $$v)},expression:\"addProjectForm.translate_users\"}},_vm._l((_vm.userList),function(item,index){return (item.status==='t'||item.status==='')?_c('el-option',{key:'Translator'+index,attrs:{\"label\":item.name,\"value\":item.id}}):_vm._e()}))],1)]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"approve_users\",\"label\":\"Approver\"}},[_c('div',{staticClass:\"namePwdInp\"},[_c('el-select',{attrs:{\"placeholder\":\"please select approver\",\"multiple\":\"\"},on:{\"change\":function($event){_vm.changeUser('a',$event)}},model:{value:(_vm.addProjectForm.approve_users),callback:function ($$v) {_vm.$set(_vm.addProjectForm, \"approve_users\", $$v)},expression:\"addProjectForm.approve_users\"}},_vm._l((_vm.userList),function(item,index){return (item.status==='a'||item.status==='')?_c('el-option',{key:'approver'+index,attrs:{\"label\":item.name,\"value\":item.id}}):_vm._e()}))],1)]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Viewer\"}},[_c('div',{staticClass:\"namePwdInp\"},[_c('el-select',{attrs:{\"placeholder\":\"please select viewer\",\"multiple\":\"\",\"disabled\":_vm.addProjectForm.attribute==='public'},on:{\"change\":function($event){_vm.changeUser('v',$event)}},model:{value:(_vm.addProjectForm.viewed_users),callback:function ($$v) {_vm.$set(_vm.addProjectForm, \"viewed_users\", $$v)},expression:\"addProjectForm.viewed_users\"}},_vm._l((_vm.userList),function(item,index){return (item.status==='v'||item.status==='')?_c('el-option',{key:'Viewer'+index,attrs:{\"label\":item.name,\"value\":item.id}}):_vm._e()}))],1)]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"product_desc\",\"label\":\"Description\"}},[_c('div',{staticClass:\"namePwdInp\"},[_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"please enter description of product\"},model:{value:(_vm.addProjectForm.product_desc),callback:function ($$v) {_vm.$set(_vm.addProjectForm, \"product_desc\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"addProjectForm.product_desc\"}})],1)]),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submitForm('addProjectForm')}}},[_vm._v(\"Add\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.resetForm('addProjectForm')}}},[_vm._v(\"Reset\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\nmodule.exports = { render: render, staticRenderFns: staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-111b4c3a\",\"hasScoped\":true,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./resources/assets/js/components/backStage/projectList/AddProject.vue\n// module id = mE0b\n// module chunks = 12","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-111b4c3a\",\"scoped\":true,\"hasInlineConfig\":true}!./node_modules/less-loader/dist/cjs.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./resources/assets/js/components/backStage/projectList/AddProject.vue\n// module id = xNdN\n// module chunks = 12"],"sourceRoot":""}
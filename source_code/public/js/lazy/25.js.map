{"version":3,"sources":["webpack:///./resources/assets/js/components/Login.vue","webpack:///./resources/assets/js/components/Login.vue?db69","webpack:///./resources/assets/js/components/Login.vue?6452","webpack:///resources/assets/js/components/Login.vue","webpack:///./resources/assets/js/components/Login.vue?cf96"],"names":["Component","__webpack_require__","normalizeComponent","ssrContext","module","exports","push","i","content","locals","__webpack_exports__","mounted","$","get","style","minHeight","window","innerHeight","this","$cookies","loginForm","email","password","Base64","decode","remove","data","submitDisabled","status","methods","onSubmit","evt","_this","preventDefault","$Loading","start","$http","post","qs","stringify","then","response","success","set","token","encode","id","role","$nextTick","defaults","headers","common","$router","done","catch","error","onReset","render","_vm","_h","$createElement","_c","_self","attrs","on","submit","reset","src","height","width","alt","_v","staticClass","label","label-for","required","placeholder","model","value","callback","$$v","$set","trim","expression","type","plain","unchecked-value","href","directives","name","rawName","modifiers","focus","title","variant","disabled","_m","staticRenderFns"],"mappings":"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","file":"js/lazy/25.js","sourcesContent":["function injectStyle (ssrContext) {\n  require(\"!!vue-style-loader!css-loader?minimize!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-87098f44\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!less-loader!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Login.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nvar __vue_script__ = require(\"!!babel-loader?{\\\"cacheDirectory\\\":true,\\\"presets\\\":[[\\\"env\\\",{\\\"modules\\\":false,\\\"targets\\\":{\\\"browsers\\\":[\\\"> 2%\\\"],\\\"uglify\\\":true}}]],\\\"plugins\\\":[\\\"transform-object-rest-spread\\\",[\\\"transform-runtime\\\",{\\\"polyfill\\\":false,\\\"helpers\\\":false}],\\\"syntax-dynamic-import\\\",[\\\"import\\\",{\\\"libraryName\\\":\\\"iview\\\",\\\"libraryDirectory\\\":\\\"src/components\\\"}]]}!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\")\n/* template */\nvar __vue_template__ = require(\"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-87098f44\\\",\\\"hasScoped\\\":true,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Login.vue\")\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-87098f44\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./resources/assets/js/components/Login.vue\n// module id = 24xu\n// module chunks = 25","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-87098f44\",\"scoped\":true,\"hasInlineConfig\":true}!./node_modules/less-loader/dist/cjs.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./resources/assets/js/components/Login.vue\n// module id = BvLz\n// module chunks = 25","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?minimize!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-87098f44\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../../../node_modules/less-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Login.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"599765f1\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader!./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-87098f44\",\"scoped\":true,\"hasInlineConfig\":true}!./node_modules/less-loader/dist/cjs.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./resources/assets/js/components/Login.vue\n// module id = L7YH\n// module chunks = 25","<template>\r\n  <div id=\"login\">\r\n    <div id=\"formCon\">\r\n      <b-form id=\"loginForm\" @submit=\"onSubmit\" @reset=\"onReset\">\r\n        <b-form-group>\r\n          <b-link>\r\n            <img src=\"/images/logo.png\" height=\"50\" width=\"180\" alt=\"Singlera Genomics Logo\">\r\n          </b-link>\r\n          <div class=\"modeTitle\">Sign In</div>\r\n        </b-form-group>\r\n        <b-form-group label=\"UserName:\" label-for=\"emailLogin\">\r\n          <b-form-input id=\"emailLogin\" v-model.trim=\"loginForm.email\" required placeholder=\"please enter user email\">\r\n          </b-form-input>\r\n        </b-form-group>\r\n        <b-form-group label=\"Password:\" label-for=\"pwdLogin\">\r\n          <b-form-input id=\"pwdLogin\" type=\"password\" v-model.trim=\"loginForm.password\" required placeholder=\"please enter password\">\r\n          </b-form-input>\r\n        </b-form-group>\r\n        <b-form-group>\r\n          <b-form-checkbox class=\"rememberStatus\" plain id=\"remembercheckbox\" v-model.trim=\"loginForm.status\" value=\"remember\" unchecked-value=\"forget\">\r\n            remember\r\n          </b-form-checkbox>\r\n          <div class=\"formLink\">\r\n            <b-link href=\"#/register\">Sign Up</b-link><b-link v-b-tooltip.focus title=\"Please contact administrator\">Forgot password?</b-link>\r\n          </div>\r\n        </b-form-group>\r\n        <b-form-group>\r\n          <b-button class=\"submitBtn\" type=\"submit\" variant=\"info\" :disabled=\"submitDisabled\">Sign In</b-button>\r\n          <b-button class=\"resetBtn\" type=\"reset\">Reset</b-button>\r\n        </b-form-group>\r\n      </b-form>\r\n    </div>\r\n    <footer>\r\n      <div class=\"sectionCenter\">Copyright 2019</div>\r\n    </footer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  mounted(){\r\n    $(\"#formCon\").get(0).style.minHeight=window.innerHeight-100+\"px\"\r\n    if(this.$cookies.get('loginStatus')==='remember'){\r\n      this.$cookies.get('email')?this.loginForm.email = this.$cookies.get('email'):this.loginForm.email = ''\r\n      this.$cookies.get('tp')?this.loginForm.password = Base64.decode(this.$cookies.get('tp')):this.loginForm.password = ''\r\n    }else{\r\n      this.$cookies.remove('Authorization')\r\n      this.$cookies.remove('permissionvue')\r\n      this.$cookies.get('email')?this.loginForm.email = this.$cookies.get('email'):this.loginForm.email = ''\r\n\r\n    }\r\n  },\r\n  data(){\r\n    return{\r\n      submitDisabled:false,\r\n      loginForm: {\r\n        email:'',\r\n        password:'',\r\n        status:'remember'\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    onSubmit (evt) {\r\n      evt.preventDefault();\r\n      this.$Loading.start()\r\n      this.submitDisabled = true;\r\n      this.$http.post(\"/api/login\",qs.stringify(this.loginForm)).then(response=>{\r\n        // console.log(response.data)\r\n        if(response.data.success){\r\n          if(this.loginForm.status === 'remember'){\r\n            this.$cookies.set('Authorization', 'Bearer ' + response.data.success.token, 60 * 60 * 12)\r\n            this.$cookies.set('email',this.loginForm.email,60*60*12)\r\n            this.$cookies.set('tp',Base64.encode(this.loginForm.password),60*60*12)\r\n            this.$cookies.set('loginStatus',this.loginForm.status,60*60*12)\r\n            this.$cookies.set('id',response.data.success.id,60*60*12)\r\n            this.$cookies.set('role',response.data.success.role,60*60*12)\r\n          }else{\r\n            this.$cookies.set('email',this.loginForm.email,60*60*12)\r\n            this.$cookies.set('Authorization', 'Bearer ' + response.data.success.token, 60 * 60 * 12)\r\n            this.$cookies.set('id',response.data.success.id,60*60*12)\r\n            this.$cookies.set('role',response.data.success.role,60*60*12)\r\n            this.$cookies.remove('tp')\r\n          }\r\n          this.$nextTick(()=>{\r\n            //设置请求头\r\n            this.$http.defaults.headers.common['Authorization'] = this.$cookies.get('Authorization')||'';\r\n          })\r\n          // 1外部用户  23内部用户 4管理员\r\n          if(response.data.success.role==2){\r\n            this.$router.push(\"/userinfo\")\r\n          }else{\r\n            this.$router.push(\"/dashboard\")\r\n          }\r\n        }\r\n        this.submitDisabled = false;\r\n        this.$Loading.done()\r\n      }).catch(error=>{\r\n        // console.log(error)\r\n        this.submitDisabled = false;\r\n        this.$Loading.done()\r\n      })\r\n    },\r\n    onReset (evt) {\r\n      evt.preventDefault();\r\n      this.loginForm.email = '';\r\n      this.loginForm.password = '';\r\n    },\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n  \r\n  \r\n</style>\n\n\n// WEBPACK FOOTER //\n// resources/assets/js/components/Login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"login\"}},[_c('div',{attrs:{\"id\":\"formCon\"}},[_c('b-form',{attrs:{\"id\":\"loginForm\"},on:{\"submit\":_vm.onSubmit,\"reset\":_vm.onReset}},[_c('b-form-group',[_c('b-link',[_c('img',{attrs:{\"src\":\"/images/logo.png\",\"height\":\"50\",\"width\":\"180\",\"alt\":\"Singlera Genomics Logo\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"modeTitle\"},[_vm._v(\"Sign In\")])],1),_vm._v(\" \"),_c('b-form-group',{attrs:{\"label\":\"UserName:\",\"label-for\":\"emailLogin\"}},[_c('b-form-input',{attrs:{\"id\":\"emailLogin\",\"required\":\"\",\"placeholder\":\"please enter user email\"},model:{value:(_vm.loginForm.email),callback:function ($$v) {_vm.$set(_vm.loginForm, \"email\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"loginForm.email\"}})],1),_vm._v(\" \"),_c('b-form-group',{attrs:{\"label\":\"Password:\",\"label-for\":\"pwdLogin\"}},[_c('b-form-input',{attrs:{\"id\":\"pwdLogin\",\"type\":\"password\",\"required\":\"\",\"placeholder\":\"please enter password\"},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"loginForm.password\"}})],1),_vm._v(\" \"),_c('b-form-group',[_c('b-form-checkbox',{staticClass:\"rememberStatus\",attrs:{\"plain\":\"\",\"id\":\"remembercheckbox\",\"value\":\"remember\",\"unchecked-value\":\"forget\"},model:{value:(_vm.loginForm.status),callback:function ($$v) {_vm.$set(_vm.loginForm, \"status\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"loginForm.status\"}},[_vm._v(\"\\n          remember\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"formLink\"},[_c('b-link',{attrs:{\"href\":\"#/register\"}},[_vm._v(\"Sign Up\")]),_c('b-link',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.focus\",modifiers:{\"focus\":true}}],attrs:{\"title\":\"Please contact administrator\"}},[_vm._v(\"Forgot password?\")])],1)],1),_vm._v(\" \"),_c('b-form-group',[_c('b-button',{staticClass:\"submitBtn\",attrs:{\"type\":\"submit\",\"variant\":\"info\",\"disabled\":_vm.submitDisabled}},[_vm._v(\"Sign In\")]),_vm._v(\" \"),_c('b-button',{staticClass:\"resetBtn\",attrs:{\"type\":\"reset\"}},[_vm._v(\"Reset\")])],1)],1)],1),_vm._v(\" \"),_vm._m(0)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('footer',[_c('div',{staticClass:\"sectionCenter\"},[_vm._v(\"Copyright 2019\")])])}]\nmodule.exports = { render: render, staticRenderFns: staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-87098f44\",\"hasScoped\":true,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./resources/assets/js/components/Login.vue\n// module id = xwQQ\n// module chunks = 25"],"sourceRoot":""}